{"version":3,"sources":["webpack:///app.b5900bd0aa7d2b509dce.js","webpack:///./D:/dev/_ws/iron-space/app/index.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/reducers.js","webpack:///./D:/dev/_ws/iron-space/app/api/actions.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/gameLoop.js","webpack:///./D:/dev/_ws/iron-space/app/initialState.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickProjectiles.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/movement.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickShip.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickShips.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickMessages.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/fireWeapon.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/landOnPlanet.js","webpack:///./D:/dev/_ws/iron-space/app/api/doCirclesOverlap.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/addMessage.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/collisionDetector.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/collisionResolver.js","webpack:///./D:/dev/_ws/iron-space/~/immutable-devtools/dist/index.js","webpack:///./app/main.css?afba","webpack:///./app/main.css","webpack:///./D:/dev/_ws/iron-space/~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./D:/dev/_ws/iron-space/app/app.js","webpack:///./D:/dev/_ws/iron-space/app/components/Ship.js","webpack:///./D:/dev/_ws/iron-space/app/components/sprite.js","webpack:///./app/components/components.css?ee07","webpack:///./app/components/components.css","webpack:///./D:/dev/_ws/iron-space/app/components/Bullet.js","webpack:///./D:/dev/_ws/iron-space/app/components/Planet.js","webpack:///./D:/dev/_ws/iron-space/app/components/Message.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactDom2","_redux","_reactRedux","_reducers","_reducers2","_immutable","_immutableDevtools","_immutableDevtools2","_app","_app2","Immutable","props","store","createStore","render","createElement","Provider","document","getElementById","200","base","state","arguments","length","undefined","baseInitialState","action","type","_actions","ADD","Object","assign","count","defineProperty","value","_gameLoop","_gameLoop2","spaceApp","combineReducers","gameLoop","201","add","num","attemptToLandOnPlanet","ship","ATTEMPT_TO_LAND","addShip","rotation","getRandomArbitrary","x","y","ADD_SHIP","Map","height","width","positionX","positionY","min","max","Math","random","handleInputKeyDown","keyDown","actionType","MOVEMENT_KEYS","has","MOVE_KEY_DOWN","KEY_DOWN","key","handleInputKeyUp","keyUp","MOVE_KEY_UP","UNHANDLED","loopTick","TICK","KEY_UP","Set","203","onTick","updatedStateWithPlayerShipMovement","_onTickShip","onTickShip","updatedStateWithShipsMovement","_onTickShips","onTickShips","updatedStateWithProjectileMovement","_onTickProjectiles","onTickProjectiles","updatedStateWithCollisions","_collisionDetector","collisionDetector","updatedStateWithCollisionsResolved","_collisionResolver","collisionResolver","updatedStateWithCollisionsMessagesUpdated","_onTickMessages","onTickMessages","_initialState2","setIn","_fireWeapon","fireWeapon","_landOnPlanet","landOnPlanet","get","updatedCount","getIn","updatedState","shipWithId","set","push","_initialState","204","initialState","id","ships","list","List","keysDown","projectiles","collisions","planets","name","messages","text","ticks","205","filterVisibleProjectiles","projectile","index","projectilesAfterPruningOffscreen","filter","stateWithVisibleProjectilesOnly","stateWithProjectilePositionChanges","reduce","_calculatePositionCha","_movement","calculatePositionChange","updatedProjectile","206","distance","rotationRadians","PI","distanceY","cos","distanceX","sin","calculateShipPosition","speed","207","buildKeysDownActions","defaultAmount","activeActions","MOVE_SHIP_FW","MOVE_SHIP_BW","TURN_SHIP","amount","activeKeysDown","FIRE_WEAPON","208","209","updatedMessages","message","map","210","newProjectileProps","currentProjectiles","updatedProjectiles","211","closestPlanet","findClosestPlanetInHailing","messageCount","updatedMsgCount","hailResult","hailPlanet","existingMsgs","withinRange","LANDING_RANGE","landingResult","attemptLanding","newMsg","previousHailMessageIndex","findIndex","existingMsgsWithoutHail","delete","_addMessage2","updatedMsgs","concat","planet","status","allowedToLand","planetsWithinRangeOfShip","HAILING_RANGE","size","first","closestPlanetSoFar","range","planetX","planetY","planetHeight","planetWidth","shipX","shipY","shipHeight","shipWidth","planetRadius","shipRadius","planetCircle","center","top","left","radius","shipCircle","_doCirclesOverlap2","_doCirclesOverlap","_addMessage","212","doCirclesOverlap","circle1","circle2","dx","dy","dSqr","radiusSumSqr","213","addMessage","updatedMsgList","214","findOverlap","obj1","obj2","obj1Height","obj1Width","obj1X","obj1Y","obj2Height","obj2Width","obj2X","obj2Y","obj1Radius","obj2Radius","projectileIndex","existingCollisionsDetected","collisionsFound","215","resolveCollision","collision","projectileId","shipId","shipIndex","stateWithoutProjectile","deleteIn","stateWithoutShip","stateWithResolvedCollisions","stateWithMessage","216","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","prototype","root","factory","a","apply","modules","moduleId","installedModules","loaded","call","m","c","p","install","window","Error","installed","devtoolsFormatters","_createFormatters","_createFormatters3","RecordFormatter","OrderedMapFormatter","OrderedSetFormatter","ListFormatter","MapFormatter","SetFormatter","StackFormatter","_createFormatters2","installDevTools","bind","_toConsumableArray","arr","Array","isArray","i","arr2","from","createFormatter","reference","object","config","nullStyle","renderIterableHeader","iterable","immutableNameStyle","hasBody","collection","noPreview","renderIterableBody","mapper","options","sorted","sortBy","children","toList","toJS","listStyle","header","record","Record","defaults","clear","changed","is","_name","inlinePreview","preview","keySeq","keyStyle","inlineValuesStyle","body","style","defaultValueKeyStyle","alteredValueKeyStyle","o","isList","Stack","isStack","isMap","OrderedMap","isOrderedMap","isSet","OrderedSet","isOrderedSet","217","content","locals","218","219","toString","result","this","item","join","mediaQuery","alreadyImportedModules","220","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createLinkElement","linkElement","rel","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","Boolean","221","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","descriptor","protoProps","staticProps","_Ship","_Ship2","_Bullet","_Bullet2","_Planet","_Planet2","_Message","_Message2","LOOP_INTERVALS","AppComponent","_PureComponent","_this","getPrototypeOf","_loopInterval","loopRequest","onButtonClick","_onButtonClick","onKeyDown","_onKeyDown","onKeyUp","_onKeyUp","onLoopTick","_onLoopTick","_this2","className","onClick","_renderMessages","data","_renderShips","_renderProjectiles","_renderPlanets","event","setTimeout","addEventListener","removeEventListener","clearTimeout","PureComponent","propTypes","PropTypes","number","mapStateToProps","mapDispatchToProps","dispatch","App","connect","222","_sprite","_sprite2","Ship","src","transform","position","223","Sprite","PATHS","images","string","defaultProps","224","225","226","Bullet","227","Planet","228","Message","_Component","messageText","Component"],"mappings":"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","file":"app.b5900bd0aa7d2b509dce.js","sourcesContent":["webpackJsonp([0,2],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(28);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _redux = __webpack_require__(170);\n\t\n\tvar _reactRedux = __webpack_require__(191);\n\t\n\tvar _reducers = __webpack_require__(200);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar _immutableDevtools = __webpack_require__(216);\n\t\n\tvar _immutableDevtools2 = _interopRequireDefault(_immutableDevtools);\n\t\n\t__webpack_require__(217);\n\t\n\tvar _app = __webpack_require__(221);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(0, _immutableDevtools2.default)(_immutable.Immutable);\n\t\n\tvar props = {};\n\t\n\tvar store = (0, _redux.createStore)(_reducers2.default);\n\t\n\t_reactDom2.default.render(_react2.default.createElement(\n\t  _reactRedux.Provider,\n\t  { store: store },\n\t  _react2.default.createElement(_app2.default, props)\n\t), document.getElementById('root'));\n\n/***/ },\n\n/***/ 200:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _redux = __webpack_require__(170);\n\t\n\tvar _actions = __webpack_require__(201);\n\t\n\tvar _gameLoop = __webpack_require__(203);\n\t\n\tvar _gameLoop2 = _interopRequireDefault(_gameLoop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar baseInitialState = {\n\t  count: 0\n\t};\n\t\n\tfunction base() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : baseInitialState;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t    case _actions.ADD:\n\t      return Object.assign({}, state, {\n\t        count: state.count + 1\n\t      });\n\t    default:\n\t      return state;\n\t  }\n\t}\n\t\n\tvar spaceApp = (0, _redux.combineReducers)({\n\t  base: base,\n\t  gameLoop: _gameLoop2.default\n\t});\n\t\n\texports.default = spaceApp;\n\n/***/ },\n\n/***/ 201:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.ATTEMPT_TO_LAND = exports.TICK = exports.MOVE_KEY_UP = exports.KEY_UP = exports.MOVE_KEY_DOWN = exports.KEY_DOWN = exports.UNHANDLED = exports.ADD_SHIP = exports.ADD = undefined;\n\texports.add = add;\n\texports.attemptToLandOnPlanet = attemptToLandOnPlanet;\n\texports.addShip = addShip;\n\texports.handleInputKeyDown = handleInputKeyDown;\n\texports.handleInputKeyUp = handleInputKeyUp;\n\texports.loopTick = loopTick;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar ADD = exports.ADD = 'ADD';\n\tvar ADD_SHIP = exports.ADD_SHIP = 'ADD_SHIP';\n\tvar UNHANDLED = exports.UNHANDLED = 'UNHANDLED';\n\tvar KEY_DOWN = exports.KEY_DOWN = 'KEY_DOWN';\n\tvar MOVE_KEY_DOWN = exports.MOVE_KEY_DOWN = 'MOVE_KEY_DOWN';\n\tvar KEY_UP = exports.KEY_UP = 'KEY_UP';\n\tvar MOVE_KEY_UP = exports.MOVE_KEY_UP = 'MOVE_KEY_UP';\n\tvar TICK = exports.TICK = 'TICK';\n\tvar ATTEMPT_TO_LAND = exports.ATTEMPT_TO_LAND = 'ATTEMPT_TO_LAND';\n\t\n\tfunction add(num) {\n\t  return { type: ADD, num: num };\n\t}\n\t\n\tfunction attemptToLandOnPlanet(ship) {\n\t  return {\n\t    type: ATTEMPT_TO_LAND,\n\t    ship: ship\n\t  };\n\t}\n\t\n\tfunction addShip() {\n\t  var rotation = getRandomArbitrary(0, 360);\n\t  var x = getRandomArbitrary(10, 800);\n\t  var y = getRandomArbitrary(100, 800);\n\t  return {\n\t    type: ADD_SHIP,\n\t    ship: new _immutable.Map({\n\t      height: 40,\n\t      width: 40,\n\t      rotation: rotation,\n\t      positionX: x,\n\t      positionY: y\n\t    })\n\t  };\n\t}\n\t\n\tfunction getRandomArbitrary(min, max) {\n\t  return Math.random() * (max - min) + min;\n\t}\n\t\n\tvar MOVEMENT_KEYS = new _immutable.Set(['w', 'a', 's', 'd']);\n\t\n\tfunction handleInputKeyDown(keyDown) {\n\t  var actionType = void 0;\n\t  if (MOVEMENT_KEYS.has(keyDown)) {\n\t    actionType = MOVE_KEY_DOWN;\n\t  } else {\n\t    actionType = KEY_DOWN;\n\t  }\n\t  return {\n\t    type: actionType,\n\t    key: keyDown\n\t  };\n\t}\n\t\n\tfunction handleInputKeyUp(keyUp) {\n\t  var actionType = void 0;\n\t  if (MOVEMENT_KEYS.has(keyUp)) {\n\t    actionType = MOVE_KEY_UP;\n\t  } else {\n\t    actionType = UNHANDLED;\n\t  }\n\t  return {\n\t    type: actionType,\n\t    key: keyUp\n\t  };\n\t}\n\t\n\tfunction loopTick() {\n\t  return {\n\t    type: TICK\n\t  };\n\t}\n\n/***/ },\n\n/***/ 203:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = gameLoop;\n\t\n\tvar _actions = __webpack_require__(201);\n\t\n\tvar _initialState = __webpack_require__(204);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tvar _onTickProjectiles = __webpack_require__(205);\n\t\n\tvar _onTickShip = __webpack_require__(207);\n\t\n\tvar _onTickShips = __webpack_require__(208);\n\t\n\tvar _onTickMessages = __webpack_require__(209);\n\t\n\tvar _fireWeapon = __webpack_require__(210);\n\t\n\tvar _landOnPlanet = __webpack_require__(211);\n\t\n\tvar _collisionDetector = __webpack_require__(214);\n\t\n\tvar _collisionResolver = __webpack_require__(215);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction onTick(state) {\n\t  var updatedStateWithPlayerShipMovement = (0, _onTickShip.onTickShip)(state);\n\t  var updatedStateWithShipsMovement = (0, _onTickShips.onTickShips)(updatedStateWithPlayerShipMovement);\n\t  var updatedStateWithProjectileMovement = (0, _onTickProjectiles.onTickProjectiles)(updatedStateWithShipsMovement);\n\t  var updatedStateWithCollisions = (0, _collisionDetector.collisionDetector)(updatedStateWithProjectileMovement);\n\t  var updatedStateWithCollisionsResolved = (0, _collisionResolver.collisionResolver)(updatedStateWithCollisions);\n\t  var updatedStateWithCollisionsMessagesUpdated = (0, _onTickMessages.onTickMessages)(updatedStateWithCollisionsResolved);\n\t  return updatedStateWithCollisionsMessagesUpdated;\n\t}\n\t\n\tfunction gameLoop() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _initialState2.default;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t    case _actions.MOVE_KEY_DOWN:\n\t      return state.setIn(['keysDown', action.key], true);\n\t    case _actions.MOVE_KEY_UP:\n\t      return state.setIn(['keysDown', action.key], false);\n\t    case _actions.KEY_DOWN:\n\t      if (action.key === ' ') return (0, _fireWeapon.fireWeapon)(state);\n\t      if (action.key === 'l') return (0, _landOnPlanet.landOnPlanet)(state, state.get('ship'));\n\t      break;\n\t    case _actions.ATTEMPT_TO_LAND:\n\t      break;\n\t    case _actions.ADD_SHIP:\n\t      var updatedCount = state.getIn(['ships', 'count']) + 1;\n\t      var updatedState = state.setIn(['ships', 'count'], updatedCount);\n\t      var shipWithId = action.ship.set('id', updatedCount);\n\t      return updatedState.setIn(['ships', 'list'], updatedState.getIn(['ships', 'list']).push(shipWithId));\n\t    case _actions.TICK:\n\t      return onTick(state);\n\t  }\n\t  return state;\n\t}\n\n/***/ },\n\n/***/ 204:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar initialState = new _immutable.Map({\n\t  ship: new _immutable.Map({\n\t    id: 1,\n\t    height: 40,\n\t    width: 40,\n\t    rotation: 135,\n\t    positionX: 0,\n\t    positionY: 100\n\t  }),\n\t  ships: new _immutable.Map({\n\t    count: 3,\n\t    list: new _immutable.List([new _immutable.Map({\n\t      id: 1,\n\t      height: 40,\n\t      width: 40,\n\t      rotation: 90,\n\t      positionX: 200,\n\t      positionY: 500\n\t    }), new _immutable.Map({\n\t      id: 2,\n\t      height: 40,\n\t      width: 40,\n\t      rotation: 0,\n\t      positionX: 600,\n\t      positionY: 200\n\t    }), new _immutable.Map({\n\t      id: 3,\n\t      height: 40,\n\t      width: 40,\n\t      rotation: 135,\n\t      positionX: 300,\n\t      positionY: 400\n\t    })])\n\t  }),\n\t  keysDown: new _immutable.Map(),\n\t  projectiles: new _immutable.Map({\n\t    count: 0,\n\t    list: new _immutable.List()\n\t  }),\n\t  collisions: new _immutable.List(),\n\t  planets: new _immutable.List([new _immutable.Map({\n\t    height: 120,\n\t    width: 120,\n\t    positionX: 400,\n\t    positionY: 400,\n\t    type: 'blue',\n\t    name: 'Scorpion',\n\t    id: 1\n\t  })]),\n\t  messages: new _immutable.Map({\n\t    count: 1,\n\t    list: new _immutable.List([new _immutable.Map({\n\t      text: 'Welcome to the game; use WASD to fly, spacebar to shoot and L to land on planets',\n\t      id: 1,\n\t      ticks: 200\n\t    })])\n\t  })\n\t});\n\t\n\texports.default = initialState;\n\n/***/ },\n\n/***/ 205:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.onTickProjectiles = onTickProjectiles;\n\t\n\tvar _movement = __webpack_require__(206);\n\t\n\tfunction filterVisibleProjectiles(projectile, index, projectiles) {\n\t  var positionX = projectile.get('positionX');\n\t  var positionY = projectile.get('positionY');\n\t  // console.log(`filtering: (${positionX}, ${positionY})`);\n\t  if (positionX > 1000 || positionX < -50 || positionY > 1000 || positionY < 0) {\n\t    return false;\n\t  }\n\t  return true;\n\t}\n\t\n\tfunction onTickProjectiles(state) {\n\t  var projectiles = state.getIn(['projectiles', 'list']);\n\t  var projectilesAfterPruningOffscreen = projectiles.filter(filterVisibleProjectiles);\n\t  var stateWithVisibleProjectilesOnly = state.setIn(['projectiles', 'list'], projectilesAfterPruningOffscreen);\n\t\n\t  var stateWithProjectilePositionChanges = projectilesAfterPruningOffscreen.reduce(function (updatedState, projectile, index) {\n\t    var _calculatePositionCha = (0, _movement.calculatePositionChange)(projectile.get('speed'), projectile.get('rotation'), projectile.get('positionX'), projectile.get('positionY')),\n\t        positionX = _calculatePositionCha.positionX,\n\t        positionY = _calculatePositionCha.positionY;\n\t\n\t    var updatedProjectile = projectile.set('positionX', positionX).set('positionY', positionY);\n\t    return updatedState.setIn(['projectiles', 'list', index], updatedProjectile);\n\t  }, stateWithVisibleProjectilesOnly);\n\t\n\t  return stateWithProjectilePositionChanges;\n\t}\n\n/***/ },\n\n/***/ 206:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.calculatePositionChange = calculatePositionChange;\n\texports.calculateShipPosition = calculateShipPosition;\n\tfunction calculatePositionChange(distance, rotation, positionX, positionY) {\n\t  console.log('' + distance);\n\t  var rotationRadians = rotation === 0 ? 0 : Math.PI * rotation / 180;\n\t  var distanceY = distance * Math.cos(rotationRadians) * -1;\n\t  var distanceX = distance * Math.sin(rotationRadians);\n\t  return {\n\t    positionX: positionX + distanceX,\n\t    positionY: positionY + distanceY\n\t  };\n\t}\n\t\n\tfunction calculateShipPosition(ship, speed) {\n\t  // dy = d * cos(rotation)\n\t  // dx = d * sin(rotation)\n\t  // could the compute cos and sin of angles up front in a map:\n\t  // rotation -> {cos(rotation), sin(rotation)}\n\t  var _calculatePositionCha = calculatePositionChange(speed, ship.get('rotation'), ship.get('positionX'), ship.get('positionY')),\n\t      positionX = _calculatePositionCha.positionX,\n\t      positionY = _calculatePositionCha.positionY;\n\t\n\t  var updatedState = ship.set('positionX', positionX);\n\t  updatedState = updatedState.set('positionY', positionY);\n\t  return updatedState;\n\t}\n\n/***/ },\n\n/***/ 207:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.FIRE_WEAPON = exports.MOVE_SHIP_FW = exports.MOVE_SHIP_BW = exports.TURN_SHIP = undefined;\n\texports.onTickShip = onTickShip;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar _movement = __webpack_require__(206);\n\t\n\tvar TURN_SHIP = exports.TURN_SHIP = 'TURN_SHIP';\n\tvar MOVE_SHIP_BW = exports.MOVE_SHIP_BW = 'MOVE_SHIP_BW';\n\tvar MOVE_SHIP_FW = exports.MOVE_SHIP_FW = 'MOVE_SHIP_FW';\n\tvar FIRE_WEAPON = exports.FIRE_WEAPON = 'FIRE_WEAPON';\n\t\n\tfunction buildKeysDownActions(keysDown) {\n\t  var defaultAmount = 7;\n\t  var activeActions = [];\n\t  if (keysDown.has('w')) {\n\t    activeActions.push({\n\t      type: MOVE_SHIP_FW,\n\t      speed: 7\n\t    });\n\t  }\n\t  if (keysDown.has('s')) {\n\t    activeActions.push({\n\t      type: MOVE_SHIP_BW,\n\t      speed: -4\n\t    });\n\t  }\n\t  if (keysDown.has('a')) {\n\t    activeActions.push({\n\t      type: TURN_SHIP,\n\t      amount: -defaultAmount\n\t    });\n\t  }\n\t  if (keysDown.has('d')) {\n\t    activeActions.push({\n\t      type: TURN_SHIP,\n\t      amount: defaultAmount\n\t    });\n\t  }\n\t  return new _immutable.List(activeActions);\n\t}\n\t\n\tfunction onTickShip(state) {\n\t  var keysDown = state.get('keysDown');\n\t  var activeKeysDown = keysDown.filter(function (value, key) {\n\t    return value;\n\t  });\n\t\n\t  // update ship state\n\t  var activeActions = buildKeysDownActions(activeKeysDown);\n\t  return activeActions.reduce(function (updatedState, action) {\n\t    switch (action.type) {\n\t      case TURN_SHIP:\n\t        return updatedState.setIn(['ship', 'rotation'], updatedState.getIn(['ship', 'rotation']) + action.amount);\n\t      case MOVE_SHIP_FW:\n\t      case MOVE_SHIP_BW:\n\t        return updatedState.set('ship', (0, _movement.calculateShipPosition)(updatedState.get('ship'), action.speed));\n\t    }\n\t  }, state);\n\t}\n\n/***/ },\n\n/***/ 208:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.onTickShips = onTickShips;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar _movement = __webpack_require__(206);\n\t\n\tfunction calculateNewPosition(state, speed) {\n\t  // dy = d * cos(rotation)\n\t  // dx = d * sin(rotation)\n\t  // could the compute cos and sin of angles up front in a map:\n\t  // rotation -> {cos(rotation), sin(rotation)}\n\t  var _calculatePositionCha = (0, _movement.calculatePositionChange)(speed, state.get('rotation'), state.get('positionX'), state.get('positionY')),\n\t      positionX = _calculatePositionCha.positionX,\n\t      positionY = _calculatePositionCha.positionY;\n\t\n\t  var updatedState = state.set('positionX', positionX);\n\t  updatedState = updatedState.set('positionY', positionY);\n\t  return updatedState;\n\t}\n\t\n\tfunction onTickShips(state) {\n\t  return state;\n\t}\n\n/***/ },\n\n/***/ 209:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.onTickMessages = onTickMessages;\n\tfunction onTickMessages(state) {\n\t  // decrement the ticks on each message\n\t  var messages = state.getIn(['messages', 'list']);\n\t  var updatedMessages = messages\n\t  // filter out messages that will expire on this tick\n\t  .filter(function (message) {\n\t    var ticks = message.get('ticks');\n\t    return !(ticks - 1 < 0);\n\t  }).map(function (message) {\n\t    var ticks = message.get('ticks');\n\t    if (ticks) {\n\t      return message.set('ticks', ticks - 1);\n\t    }\n\t    return message;\n\t  });\n\t  return state.setIn(['messages', 'list'], updatedMessages);\n\t}\n\n/***/ },\n\n/***/ 210:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.fireWeapon = fireWeapon;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tfunction fireWeapon(state) {\n\t  var ship = state.get('ship');\n\t  var rotation = ship.get('rotation'); // comes out same rotation as ship\n\t  var positionX = ship.get('positionX');\n\t  var positionY = ship.get('positionY');\n\t  var updatedCount = state.getIn(['projectiles', 'count']) + 1;\n\t\n\t  var newProjectileProps = new _immutable.Map({\n\t    rotation: rotation, positionX: positionX, positionY: positionY,\n\t    height: 40,\n\t    width: 40,\n\t    speed: 15,\n\t    id: updatedCount\n\t  });\n\t\n\t  var currentProjectiles = state.getIn(['projectiles', 'list']);\n\t  var updatedProjectiles = currentProjectiles.push(newProjectileProps);\n\t  var updatedState = state.setIn(['projectiles', 'count'], updatedCount);\n\t  return updatedState.setIn(['projectiles', 'list'], updatedProjectiles);\n\t}\n\n/***/ },\n\n/***/ 211:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.landOnPlanet = landOnPlanet;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar _doCirclesOverlap = __webpack_require__(212);\n\t\n\tvar _doCirclesOverlap2 = _interopRequireDefault(_doCirclesOverlap);\n\t\n\tvar _addMessage = __webpack_require__(213);\n\t\n\tvar _addMessage2 = _interopRequireDefault(_addMessage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar LANDING_RANGE = 50;\n\tvar HAILING_RANGE = 100;\n\t\n\tfunction landOnPlanet(state, ship) {\n\t  var planets = state.get('planets');\n\t  var closestPlanet = findClosestPlanetInHailing(planets, ship);\n\t  if (!closestPlanet) {\n\t    return state;\n\t  }\n\t  var messageCount = state.getIn(['messages', 'count']);\n\t  var updatedMsgCount = messageCount + 1;\n\t  var hailResult = hailPlanet(closestPlanet, ship, updatedMsgCount);\n\t  if (hailResult.get('status') === 'ok') {\n\t    var existingMsgs = state.getIn(['messages', 'list']);\n\t    if (withinRange(closestPlanet, ship, LANDING_RANGE)) {\n\t      var landingResult = attemptLanding(closestPlanet, ship, messageCount);\n\t      var _newMsg = landingResult.get('message');\n\t      var previousHailMessageIndex = existingMsgs.findIndex(function (message) {\n\t        return message.get('text') == 'cleared for landing';\n\t      });\n\t      var existingMsgsWithoutHail = previousHailMessageIndex != -1 ? existingMsgs.delete(previousHailMessageIndex) : existingMsgs;\n\t      return (0, _addMessage2.default)(state.setIn(['messages', 'list'], existingMsgsWithoutHail), _newMsg);\n\t    }\n\t    var newMsg = hailResult.get('message');\n\t    var updatedMsgs = existingMsgs.concat([newMsg]);\n\t    return state.setIn(['messages', 'count'], updatedMsgCount).setIn(['messages', 'list'], updatedMsgs);\n\t  }\n\t  return state;\n\t}\n\t\n\tfunction attemptLanding(planet, ship, messageCount) {\n\t  return new _immutable.Map({\n\t    status: 'ok',\n\t    message: new _immutable.Map({\n\t      text: 'Welcome to ' + planet.get('name'),\n\t      ticks: 80,\n\t      id: messageCount + 1\n\t    })\n\t  });\n\t}\n\t\n\tfunction hailPlanet(planet, ship, messageCount) {\n\t  if (allowedToLand(planet, ship)) {\n\t    return new _immutable.Map({\n\t      status: 'ok',\n\t      message: new _immutable.Map({\n\t        text: 'cleared for landing',\n\t        ticks: 200,\n\t        id: messageCount + 1\n\t      })\n\t    });\n\t  }\n\t  return new _immutable.Map({\n\t    status: 'not_allowed',\n\t    message: new _immutable.Map({\n\t      text: 'not allowed to land',\n\t      id: messageCount + 1\n\t    })\n\t  });\n\t}\n\t\n\tfunction allowedToLand(planet, ship) {\n\t  return true;\n\t}\n\t\n\tfunction findClosestPlanetInHailing(planets, ship) {\n\t  var planetsWithinRangeOfShip = planets.filter(function (planet) {\n\t    return withinRange(planet, ship, HAILING_RANGE);\n\t  });\n\t  // TODO: when there's multiple planets in range, do something\n\t  // smarter here and pick the closest one\n\t  var closestPlanet = planetsWithinRangeOfShip.size == 1 ? planetsWithinRangeOfShip.first() : planetsWithinRangeOfShip.reduce(function (closestPlanetSoFar, planet) {\n\t    return closestPlanetSoFar;\n\t  }, planetsWithinRangeOfShip.get(0));\n\t  return closestPlanet;\n\t}\n\t\n\tfunction withinRange(planet, ship, range) {\n\t  // compare circles using the range plus the radii of the planet and ships\n\t  var planetX = planet.get('positionX');\n\t  var planetY = planet.get('positionY');\n\t  var planetHeight = planet.get('height');\n\t  var planetWidth = planet.get('width');\n\t  var shipX = ship.get('positionX');\n\t  var shipY = ship.get('positionY');\n\t  var shipHeight = ship.get('height');\n\t  var shipWidth = ship.get('width');\n\t\n\t  var planetRadius = planetWidth >= planetHeight ? planetWidth / 2 : planetHeight / 2;\n\t  var shipRadius = shipWidth >= shipHeight ? shipWidth / 2 : shipHeight / 2;\n\t  var planetCircle = {\n\t    center: { top: planetY + planetRadius, left: planetX + planetRadius },\n\t    radius: planetRadius + range\n\t  };\n\t  var shipCircle = {\n\t    center: { top: shipY + shipRadius, left: shipX + shipRadius },\n\t    radius: shipRadius\n\t  };\n\t  return (0, _doCirclesOverlap2.default)(planetCircle, shipCircle);\n\t}\n\n/***/ },\n\n/***/ 212:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = doCirclesOverlap;\n\tfunction doCirclesOverlap(circle1, circle2) {\n\t  // find the distance between the centers and compare to the sum of the radii\n\t  var dx = circle1.center.top - circle2.center.top;\n\t  var dy = circle1.center.left - circle2.center.left;\n\t  // taking square roots is more expensive than squaring the sum of the radii\n\t  var dSqr = dx * dx + dy * dy;\n\t  var radiusSumSqr = (circle1.radius + circle2.radius) * (circle1.radius + circle2.radius);\n\t  if (dSqr - radiusSumSqr < 500) {\n\t    // console.log(`difference between ${circle1.center.top} and ${circle2.center.top}`);\n\t    // console.log(`difference between ${circle1.center.left} and ${circle2.center.left}`);\n\t    // console.log(`collision close: ${dSqr} vs ${radiusSumSqr}`)\n\t  }\n\t  return dSqr <= radiusSumSqr;\n\t}\n\n/***/ },\n\n/***/ 213:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = addMessage;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tfunction addMessage(state, message) {\n\t  var text = message.text,\n\t      ticks = message.ticks;\n\t\n\t  var messages = state.get('messages');\n\t  var count = messages.get('count');\n\t  var list = messages.get('list');\n\t  var updatedMsgList = list.push(new _immutable.Map({\n\t    id: count + 1,\n\t    text: text, ticks: ticks\n\t  }));\n\t  return state.setIn(['messages', 'list'], updatedMsgList).setIn(['messages', 'count'], count + 1);\n\t}\n\n/***/ },\n\n/***/ 214:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.collisionDetector = collisionDetector;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar _doCirclesOverlap = __webpack_require__(212);\n\t\n\tvar _doCirclesOverlap2 = _interopRequireDefault(_doCirclesOverlap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// TODO: this is not accurate, need to figure out a better way of calculating this stuff\n\t// http://stackoverflow.com/questions/12066870/how-to-check-if-an-element-is-overlapping-other-elements\n\tfunction findOverlapAsRectangles(obj1, obj2) {\n\t  var obj1Height = obj1.get('height');\n\t  var obj1Width = obj1.get('width');\n\t  var obj1X = obj1.get('positionX');\n\t  var obj1Y = obj1.get('positionY');\n\t  var obj2Height = obj2.get('height');\n\t  var obj2Width = obj2.get('width');\n\t  var obj2X = obj2.get('positionX');\n\t  var obj2Y = obj2.get('positionY');\n\t  var obj1Left = obj1X;\n\t  var obj1Right = obj1X + obj1Width;\n\t  var obj2Left = obj2X;\n\t  var obj2Right = obj2X + obj2Width;\n\t  var obj1Top = obj1Y;\n\t  var obj1Bottom = obj1Y + obj1Height;\n\t  var obj2Top = obj2Y;\n\t  var obj2Bottom = obj2Y + obj2Height;\n\t\n\t  var doesNotOverlap = obj2Left > obj1Right || obj2Top > obj1Bottom || obj2Right < obj1Left || obj2Bottom < obj1Top;\n\t\n\t  !doesNotOverlap && console.log('collision found, at least one is true: \\n    ' + obj2Left + ' <= ' + obj1Right + ',\\n    ' + obj2Top + ' <= ' + obj1Bottom + ',\\n    ' + obj2Right + ' >= ' + obj1Left + ',\\n    ' + obj2Bottom + ' >= ' + obj1Top);\n\t  return !doesNotOverlap;\n\t}\n\t\n\tfunction findOverlap(obj1, obj2) {\n\t  var obj1Height = obj1.get('height');\n\t  var obj1Width = obj1.get('width');\n\t  var obj1X = obj1.get('positionX');\n\t  var obj1Y = obj1.get('positionY');\n\t  var obj2Height = obj2.get('height');\n\t  var obj2Width = obj2.get('width');\n\t  var obj2X = obj2.get('positionX');\n\t  var obj2Y = obj2.get('positionY');\n\t  // use overlapping circles to determine if there's a collision\n\t  // create circles for each obj\n\t  var obj1Radius = obj1Width >= obj1Height ? obj1Width / 2 : obj1Height / 2;\n\t  var circle1 = {\n\t    center: { top: obj1Y + obj1Radius, left: obj1X + obj1Radius },\n\t    radius: obj1Radius\n\t  };\n\t  var obj2Radius = obj2Width >= obj2Height ? obj2Width / 2 : obj2Height / 2;\n\t  var circle2 = {\n\t    center: { top: obj2Y + obj2Radius, left: obj2X + obj2Radius },\n\t    radius: obj2Radius\n\t  };\n\t  // find if the circles overlap\n\t  // TODO: find direction/side that the collision happened?\n\t  return (0, _doCirclesOverlap2.default)(circle1, circle2);\n\t}\n\t\n\tfunction collisionDetector(state) {\n\t  var projectiles = state.getIn(['projectiles', 'list']);\n\t  var ships = state.getIn(['ships', 'list']);\n\t  var updatedStateWithCollisions = projectiles.reduce(function (updatedState, projectile, projectileIndex) {\n\t    var existingCollisionsDetected = updatedState.get('collisions');\n\t    var collisionsFound = ships.filter(function (ship) {\n\t      return findOverlap(projectile, ship);\n\t    }).map(function (ship) {\n\t      console.log('collision detected');\n\t      // console.log(`collision detected: projectile: ${projectile}, ship: ${ship}`);\n\t      // return a collision record to be resolved\n\t      return new _immutable.Map({\n\t        projectile: projectile, ship: ship\n\t      });\n\t    });\n\t    return updatedState.set('collisions', collisionsFound.concat(existingCollisionsDetected));\n\t  }, state);\n\t  return updatedStateWithCollisions;\n\t}\n\n/***/ },\n\n/***/ 215:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.collisionResolver = collisionResolver;\n\t\n\tvar _immutable = __webpack_require__(202);\n\t\n\tvar _addMessage = __webpack_require__(213);\n\t\n\tvar _addMessage2 = _interopRequireDefault(_addMessage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction resolveCollision(state, collision) {\n\t  if (!collision) return state;\n\t  var projectile = collision.get('projectile');\n\t  var projectileId = projectile.get('id');\n\t  var ship = collision.get('ship');\n\t  var shipId = ship.get('id');\n\t  // console.log(`resolving collision: projectile: ${projectile}, ship: ${ship}`);\n\t  var projectileIndex = state.getIn(['projectiles', 'list']).findIndex(function (projectile) {\n\t    return projectile.get('id') == projectileId;\n\t  });\n\t  var shipIndex = state.getIn(['ships', 'list']).findIndex(function (ship) {\n\t    return ship.get('id') == shipId;\n\t  });\n\t  var stateWithoutProjectile = state.deleteIn(['projectiles', 'list', projectileIndex]);\n\t  var stateWithoutShip = stateWithoutProjectile.deleteIn(['ships', 'list', shipIndex]);\n\t  return stateWithoutShip;\n\t}\n\t\n\tfunction collisionResolver(state) {\n\t  var collisions = state.get('collisions');\n\t  if (collisions.size > 0) {\n\t    var stateWithResolvedCollisions = collisions.reduce(function (updatedState, collision) {\n\t      var message = {\n\t        text: 'Ship was destroyed',\n\t        ticks: 100\n\t      };\n\t      var stateWithMessage = (0, _addMessage2.default)(updatedState, message);\n\t      console.log('adding message: ' + message.text);\n\t      return resolveCollision(stateWithMessage, collision);\n\t    }, state);\n\t    return stateWithResolvedCollisions.set('collisions', new _immutable.List());\n\t  }\n\t  return state;\n\t}\n\n/***/ },\n\n/***/ 216:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t(function webpackUniversalModuleDefinition(root, factory) {\n\t\tif (( false ? 'undefined' : _typeof(exports)) === 'object' && ( false ? 'undefined' : _typeof(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') exports[\"immutableDevTools\"] = factory();else root[\"immutableDevTools\"] = factory();\n\t})(undefined, function () {\n\t\treturn (/******/function (modules) {\n\t\t\t\t// webpackBootstrap\n\t\t\t\t/******/ // The module cache\n\t\t\t\t/******/var installedModules = {};\n\t\n\t\t\t\t/******/ // The require function\n\t\t\t\t/******/function __webpack_require__(moduleId) {\n\t\n\t\t\t\t\t/******/ // Check if module is in cache\n\t\t\t\t\t/******/if (installedModules[moduleId])\n\t\t\t\t\t\t/******/return installedModules[moduleId].exports;\n\t\n\t\t\t\t\t/******/ // Create a new module (and put it into the cache)\n\t\t\t\t\t/******/var module = installedModules[moduleId] = {\n\t\t\t\t\t\t/******/exports: {},\n\t\t\t\t\t\t/******/id: moduleId,\n\t\t\t\t\t\t/******/loaded: false\n\t\t\t\t\t\t/******/ };\n\t\n\t\t\t\t\t/******/ // Execute the module function\n\t\t\t\t\t/******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t\n\t\t\t\t\t/******/ // Flag the module as loaded\n\t\t\t\t\t/******/module.loaded = true;\n\t\n\t\t\t\t\t/******/ // Return the exports of the module\n\t\t\t\t\t/******/return module.exports;\n\t\t\t\t\t/******/\n\t\t\t\t}\n\t\n\t\t\t\t/******/ // expose the modules object (__webpack_modules__)\n\t\t\t\t/******/__webpack_require__.m = modules;\n\t\n\t\t\t\t/******/ // expose the module cache\n\t\t\t\t/******/__webpack_require__.c = installedModules;\n\t\n\t\t\t\t/******/ // __webpack_public_path__\n\t\t\t\t/******/__webpack_require__.p = \"\";\n\t\n\t\t\t\t/******/ // Load entry module and return exports\n\t\t\t\t/******/return __webpack_require__(0);\n\t\t\t\t/******/\n\t\t\t}(\n\t\t\t/************************************************************************/\n\t\t\t/******/[\n\t\t\t/* 0 */\n\t\t\t/***/function (module, exports, __webpack_require__) {\n\t\n\t\t\t\t\"use strict\";\n\t\n\t\t\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\t\tvalue: true\n\t\t\t\t});\n\t\n\t\t\t\tvar _createFormatters2 = __webpack_require__(1);\n\t\n\t\t\t\tvar _createFormatters3 = _interopRequireDefault(_createFormatters2);\n\t\n\t\t\t\tfunction _interopRequireDefault(obj) {\n\t\t\t\t\treturn obj && obj.__esModule ? obj : { default: obj };\n\t\t\t\t}\n\t\n\t\t\t\t// Check for globally defined Immutable and add an install method to it.\n\t\t\t\tif (typeof Immutable !== \"undefined\") {\n\t\t\t\t\tImmutable.installDevTools = install.bind(null, Immutable);\n\t\t\t\t}\n\t\n\t\t\t\t// I imagine most people are using Immutable as a CommonJS module though...\n\t\n\t\t\t\tvar installed = false;\n\t\t\t\tfunction install(Immutable) {\n\t\t\t\t\tif (typeof window === \"undefined\") {\n\t\t\t\t\t\tthrow new Error(\"Can only install immutable-devtools in a browser environment.\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Don't install more than once.\n\t\t\t\t\tif (installed === true) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\twindow.devtoolsFormatters = window.devtoolsFormatters || [];\n\t\n\t\t\t\t\tvar _createFormatters = (0, _createFormatters3.default)(Immutable);\n\t\n\t\t\t\t\tvar RecordFormatter = _createFormatters.RecordFormatter;\n\t\t\t\t\tvar OrderedMapFormatter = _createFormatters.OrderedMapFormatter;\n\t\t\t\t\tvar OrderedSetFormatter = _createFormatters.OrderedSetFormatter;\n\t\t\t\t\tvar ListFormatter = _createFormatters.ListFormatter;\n\t\t\t\t\tvar MapFormatter = _createFormatters.MapFormatter;\n\t\t\t\t\tvar SetFormatter = _createFormatters.SetFormatter;\n\t\t\t\t\tvar StackFormatter = _createFormatters.StackFormatter;\n\t\n\t\t\t\t\twindow.devtoolsFormatters.push(RecordFormatter, OrderedMapFormatter, OrderedSetFormatter, ListFormatter, MapFormatter, SetFormatter, StackFormatter);\n\t\n\t\t\t\t\tinstalled = true;\n\t\t\t\t}\n\t\n\t\t\t\tmodule.exports = install;\n\t\t\t\texports.default = install;\n\t\n\t\t\t\t/***/\n\t\t\t},\n\t\t\t/* 1 */\n\t\t\t/***/function (module, exports) {\n\t\n\t\t\t\t'use strict';\n\t\n\t\t\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\t\tvalue: true\n\t\t\t\t});\n\t\t\t\texports.default = createFormatter;\n\t\n\t\t\t\tfunction _toConsumableArray(arr) {\n\t\t\t\t\tif (Array.isArray(arr)) {\n\t\t\t\t\t\tfor (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n\t\t\t\t\t\t\tarr2[i] = arr[i];\n\t\t\t\t\t\t}return arr2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Array.from(arr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tvar listStyle = { style: 'list-style-type: none; padding: 0; margin: 0 0 0 12px; font-style: normal' };\n\t\t\t\tvar immutableNameStyle = { style: 'color: rgb(232,98,0)' };\n\t\t\t\tvar keyStyle = { style: 'color: #881391' };\n\t\t\t\tvar defaultValueKeyStyle = { style: 'color: #777' };\n\t\t\t\tvar alteredValueKeyStyle = { style: 'color: #881391; font-weight: bolder' };\n\t\t\t\tvar inlineValuesStyle = { style: 'color: #777; font-style: italic' };\n\t\t\t\tvar nullStyle = { style: 'color: #777' };\n\t\n\t\t\t\tfunction createFormatter(Immutable) {\n\t\n\t\t\t\t\tvar reference = function reference(object, config) {\n\t\t\t\t\t\tif (typeof object === 'undefined') return ['span', nullStyle, 'undefined'];else if (object === 'null') return ['span', nullStyle, 'null'];\n\t\n\t\t\t\t\t\treturn ['object', { object: object, config: config }];\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar renderIterableHeader = function renderIterableHeader(iterable) {\n\t\t\t\t\t\tvar name = arguments.length <= 1 || arguments[1] === undefined ? 'Iterable' : arguments[1];\n\t\t\t\t\t\treturn ['span', ['span', immutableNameStyle, name], ['span', '[' + iterable.size + ']']];\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar hasBody = function hasBody(collection, config) {\n\t\t\t\t\t\treturn collection.size > 0 && !(config && config.noPreview);\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar renderIterableBody = function renderIterableBody(collection, mapper) {\n\t\t\t\t\t\tvar options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\t\n\t\t\t\t\t\tif (options.sorted) {\n\t\t\t\t\t\t\tcollection = collection.sortBy(function (value, key) {\n\t\t\t\t\t\t\t\treturn key;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar children = collection.map(mapper).toList().toJS();\n\t\t\t\t\t\treturn ['ol', listStyle].concat(_toConsumableArray(children));\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar RecordFormatter = {\n\t\t\t\t\t\theader: function header(record, config) {\n\t\t\t\t\t\t\tif (!(record instanceof Immutable.Record)) return null;\n\t\n\t\t\t\t\t\t\tvar defaults = record.clear();\n\t\t\t\t\t\t\tvar changed = !Immutable.is(defaults, record);\n\t\n\t\t\t\t\t\t\tif (config && config.noPreview) return ['span', changed ? immutableNameStyle : nullStyle, record._name || record.constructor.name || 'Record'];\n\t\n\t\t\t\t\t\t\tvar inlinePreview = undefined;\n\t\t\t\t\t\t\tif (!changed) {\n\t\t\t\t\t\t\t\tinlinePreview = ['span', inlineValuesStyle, '{}'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar preview = record.keySeq().reduce(function (preview, key) {\n\t\t\t\t\t\t\t\t\tif (Immutable.is(defaults.get(key), record.get(key))) return preview;\n\t\t\t\t\t\t\t\t\tif (preview.length) preview.push(', ');\n\t\n\t\t\t\t\t\t\t\t\tpreview.push(['span', {}, ['span', keyStyle, key + ': '], reference(record.get(key), { noPreview: true })]);\n\t\t\t\t\t\t\t\t\treturn preview;\n\t\t\t\t\t\t\t\t}, []);\n\t\t\t\t\t\t\t\tinlinePreview = ['span', inlineValuesStyle, '{'].concat(_toConsumableArray(preview), ['}']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn ['span', {}, ['span', immutableNameStyle, record._name || record.constructor.name || 'Record'], ' ', inlinePreview];\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(record) {\n\t\t\t\t\t\t\tvar defaults = record.clear();\n\t\t\t\t\t\t\tvar children = record.keySeq().map(function (key) {\n\t\t\t\t\t\t\t\tvar style = Immutable.is(defaults.get(key), record.get(key)) ? defaultValueKeyStyle : alteredValueKeyStyle;\n\t\t\t\t\t\t\t\treturn ['li', {}, ['span', style, key + ': '], reference(record.get(key))];\n\t\t\t\t\t\t\t}).toJS();\n\t\t\t\t\t\t\treturn ['ol', listStyle].concat(_toConsumableArray(children));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar ListFormatter = {\n\t\t\t\t\t\theader: function header(o) {\n\t\t\t\t\t\t\tif (!Immutable.List.isList(o)) return null;\n\t\t\t\t\t\t\treturn renderIterableHeader(o, 'List');\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(o) {\n\t\t\t\t\t\t\treturn renderIterableBody(o, function (value, key) {\n\t\t\t\t\t\t\t\treturn ['li', ['span', keyStyle, key + ': '], reference(value)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar StackFormatter = {\n\t\t\t\t\t\theader: function header(o) {\n\t\t\t\t\t\t\tif (!Immutable.Stack.isStack(o)) return null;\n\t\t\t\t\t\t\treturn renderIterableHeader(o, 'Stack');\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(o) {\n\t\t\t\t\t\t\treturn renderIterableBody(o, function (value, key) {\n\t\t\t\t\t\t\t\treturn ['li', ['span', keyStyle, key + ': '], reference(value)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar MapFormatter = {\n\t\t\t\t\t\theader: function header(o) {\n\t\t\t\t\t\t\tif (!Immutable.Map.isMap(o)) return null;\n\t\t\t\t\t\t\treturn renderIterableHeader(o, 'Map');\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(o) {\n\t\t\t\t\t\t\treturn renderIterableBody(o, function (value, key) {\n\t\t\t\t\t\t\t\treturn ['li', {}, '{', reference(key), ' => ', reference(value), '}'];\n\t\t\t\t\t\t\t}, { sorted: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar OrderedMapFormatter = {\n\t\t\t\t\t\theader: function header(o) {\n\t\t\t\t\t\t\tif (!Immutable.OrderedMap.isOrderedMap(o)) return null;\n\t\t\t\t\t\t\treturn renderIterableHeader(o, 'OrderedMap');\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(o) {\n\t\t\t\t\t\t\treturn renderIterableBody(o, function (value, key) {\n\t\t\t\t\t\t\t\treturn ['li', {}, '{', reference(key), ' => ', reference(value), '}'];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar SetFormatter = {\n\t\t\t\t\t\theader: function header(o) {\n\t\t\t\t\t\t\tif (!Immutable.Set.isSet(o)) return null;\n\t\t\t\t\t\t\treturn renderIterableHeader(o, 'Set');\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(o) {\n\t\t\t\t\t\t\treturn renderIterableBody(o, function (value) {\n\t\t\t\t\t\t\t\treturn ['li', reference(value)];\n\t\t\t\t\t\t\t}, { sorted: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tvar OrderedSetFormatter = {\n\t\t\t\t\t\theader: function header(o) {\n\t\t\t\t\t\t\tif (!Immutable.OrderedSet.isOrderedSet(o)) return null;\n\t\t\t\t\t\t\treturn renderIterableHeader(o, 'OrderedSet');\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\thasBody: hasBody,\n\t\t\t\t\t\tbody: function body(o) {\n\t\t\t\t\t\t\treturn renderIterableBody(o, function (value) {\n\t\t\t\t\t\t\t\treturn ['li', reference(value)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\treturn {\n\t\t\t\t\t\tRecordFormatter: RecordFormatter,\n\t\t\t\t\t\tOrderedMapFormatter: OrderedMapFormatter,\n\t\t\t\t\t\tOrderedSetFormatter: OrderedSetFormatter,\n\t\t\t\t\t\tListFormatter: ListFormatter,\n\t\t\t\t\t\tMapFormatter: MapFormatter,\n\t\t\t\t\t\tSetFormatter: SetFormatter,\n\t\t\t\t\t\tStackFormatter: StackFormatter\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\t/***/\n\t\t\t}\n\t\t\t/******/])\n\t\t);\n\t});\n\t;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(184)(module)))\n\n/***/ },\n\n/***/ 217:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(218);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(220)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./main.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./main.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 218:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(219)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"body{background:#add8e6;margin:0;padding:0}.outline{border:1px solid #000;border-radius:20px}.interface{display:flex;flex-direction:column;justify-content:space-between;height:700px}.top-bar{height:50px;width:90%;background-color:grey;padding-top:10px;padding-left:10px}.menu-button{height:30px}.message-bar{height:50px;width:90%;background-color:grey;padding-top:10px;padding-left:10px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 219:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function () {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif (item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function (modules, mediaQuery) {\n\t\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n/***/ },\n\n/***/ 220:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n\n/***/ 221:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(191);\n\t\n\tvar _actions = __webpack_require__(201);\n\t\n\tvar _Ship = __webpack_require__(222);\n\t\n\tvar _Ship2 = _interopRequireDefault(_Ship);\n\t\n\tvar _Bullet = __webpack_require__(226);\n\t\n\tvar _Bullet2 = _interopRequireDefault(_Bullet);\n\t\n\tvar _Planet = __webpack_require__(227);\n\t\n\tvar _Planet2 = _interopRequireDefault(_Planet);\n\t\n\tvar _Message = __webpack_require__(228);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LOOP_INTERVALS = 35;\n\t\n\tvar AppComponent = function (_PureComponent) {\n\t  _inherits(AppComponent, _PureComponent);\n\t\n\t  function AppComponent(props) {\n\t    _classCallCheck(this, AppComponent);\n\t\n\t    var _this = _possibleConstructorReturn(this, (AppComponent.__proto__ || Object.getPrototypeOf(AppComponent)).call(this, props));\n\t\n\t    _this._loopInterval = null;\n\t\n\t    _this.state = {\n\t      loopRequest: 0\n\t    };\n\t\n\t    _this.onButtonClick = _this._onButtonClick.bind(_this);\n\t    _this.onKeyDown = _this._onKeyDown.bind(_this);\n\t    _this.onKeyUp = _this._onKeyUp.bind(_this);\n\t    _this.onLoopTick = _this._onLoopTick.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AppComponent, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'App' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'interface' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'top-bar' },\n\t            _react2.default.createElement(\n\t              'button',\n\t              { className: 'menu-button', onClick: function onClick() {\n\t                  return _this2.onButtonClick();\n\t                } },\n\t              'Add Ship'\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'message-bar' },\n\t            this._renderMessages()\n\t          )\n\t        ),\n\t        _react2.default.createElement(_Ship2.default, { data: this.props.gameLoop.get('ship') }),\n\t        this._renderShips(),\n\t        this._renderProjectiles(),\n\t        this._renderPlanets()\n\t      );\n\t    }\n\t  }, {\n\t    key: '_renderMessages',\n\t    value: function _renderMessages() {\n\t      return this.props.gameLoop.getIn(['messages', 'list']).map(function (message, index) {\n\t        return _react2.default.createElement(_Message2.default, { key: message.get('id'), data: message });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_renderPlanets',\n\t    value: function _renderPlanets() {\n\t      return this.props.gameLoop.get('planets').map(function (planet) {\n\t        return _react2.default.createElement(_Planet2.default, { key: planet.get('id'), data: planet });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_renderShips',\n\t    value: function _renderShips() {\n\t      return this.props.gameLoop.getIn(['ships', 'list']).map(function (ship, index) {\n\t        return _react2.default.createElement(_Ship2.default, { key: ship.get('id'), data: ship });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_renderProjectiles',\n\t    value: function _renderProjectiles() {\n\t      return this.props.gameLoop.getIn(['projectiles', 'list']).map(function (projectile, index) {\n\t        return _react2.default.createElement(_Bullet2.default, { key: projectile.get('id'), data: projectile });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_onButtonClick',\n\t    value: function _onButtonClick() {\n\t      this.props.onButtonClick();\n\t    }\n\t  }, {\n\t    key: '_onKeyDown',\n\t    value: function _onKeyDown(event) {\n\t      this.props.onKeyDown(event.key);\n\t    }\n\t  }, {\n\t    key: '_onKeyUp',\n\t    value: function _onKeyUp(event) {\n\t      this.props.onKeyUp(event.key);\n\t    }\n\t  }, {\n\t    key: '_onLoopTick',\n\t    value: function _onLoopTick() {\n\t      this.props.onLoopTick();\n\t      // this.setState({\n\t      //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\n\t      // });\n\t      this._loopInterval = window.setTimeout(this.onLoopTick, LOOP_INTERVALS);\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      window.addEventListener(\"keydown\", this.onKeyDown);\n\t      window.addEventListener(\"keyup\", this.onKeyUp);\n\t      // this.setState({\n\t      //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\n\t      // });\n\t      // this._loopInterval = window.setInterval(this.props.onLoopTick, LOOP_INTERVALS);\n\t      this._loopInterval = window.setTimeout(this.onLoopTick, LOOP_INTERVALS);\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      window.removeEventListener(\"keydown\", this.onKeyDown);\n\t      window.removeEventListener(\"keyup\", this.onKeyUp);\n\t      // window.clearInterval(this._loopInterval);\n\t      window.clearTimeout(this._loopInterval);\n\t      this._loopInterval = null;\n\t    }\n\t  }]);\n\t\n\t  return AppComponent;\n\t}(_react.PureComponent);\n\t\n\tAppComponent.propTypes = {\n\t  count: _react2.default.PropTypes.number,\n\t  gameLoop: _react2.default.PropTypes.object\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    count: state.base.count,\n\t    gameLoop: state.gameLoop\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    onButtonClick: function onButtonClick() {\n\t      dispatch((0, _actions.addShip)());\n\t    },\n\t    onKeyDown: function onKeyDown(key) {\n\t      dispatch((0, _actions.handleInputKeyDown)(key));\n\t    },\n\t    onKeyUp: function onKeyUp(key) {\n\t      dispatch((0, _actions.handleInputKeyUp)(key));\n\t    },\n\t    onLoopTick: function onLoopTick() {\n\t      dispatch((0, _actions.loopTick)());\n\t    }\n\t  };\n\t};\n\t\n\tvar App = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(AppComponent);\n\t\n\texports.default = App;\n\n/***/ },\n\n/***/ 222:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sprite = __webpack_require__(223);\n\t\n\tvar _sprite2 = _interopRequireDefault(_sprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Ship = function (_PureComponent) {\n\t  _inherits(Ship, _PureComponent);\n\t\n\t  function Ship(props) {\n\t    _classCallCheck(this, Ship);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Ship.__proto__ || Object.getPrototypeOf(Ship)).call(this, props));\n\t\n\t    var height = _this.props.data.get('height');\n\t    var width = _this.props.data.get('width');\n\t    _this.state = {\n\t      src: 'ship_' + height + 'x' + width + '.png',\n\t      height: height,\n\t      width: width\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Ship, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var data = this.props.data;\n\t      var rotation = data.get('rotation');\n\t      var positionX = data.get('positionX');\n\t      var positionY = data.get('positionY');\n\t      // console.log(`ship: ${rotation} @ (${positionX}, ${positionY})`)\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'outline',\n\t          style: {\n\t            transform: 'rotate(' + rotation + 'deg)',\n\t            height: this.state.height,\n\t            width: this.state.width,\n\t            top: positionY,\n\t            left: positionX,\n\t            position: 'fixed'\n\t          } },\n\t        _react2.default.createElement(_sprite2.default, {\n\t          src: this.state.src,\n\t          height: this.state.height,\n\t          width: this.state.width,\n\t          top: positionY,\n\t          left: positionX\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Ship;\n\t}(_react.PureComponent);\n\t\n\texports.default = Ship;\n\n/***/ },\n\n/***/ 223:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\t__webpack_require__(224);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Sprite = function (_PureComponent) {\n\t  _inherits(Sprite, _PureComponent);\n\t\n\t  function Sprite() {\n\t    _classCallCheck(this, Sprite);\n\t\n\t    return _possibleConstructorReturn(this, (Sprite.__proto__ || Object.getPrototypeOf(Sprite)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Sprite, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'sprite',\n\t          height: this.props.height,\n\t          width: this.props.width\n\t        },\n\t        _react2.default.createElement('img', { src: this.props.PATHS.images + '/' + this.props.src,\n\t          height: this.props.height,\n\t          width: this.props.width\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Sprite;\n\t}(_react.PureComponent);\n\t\n\tSprite.propTypes = {\n\t  src: _react2.default.PropTypes.string,\n\t  PATHS: _react2.default.PropTypes.object,\n\t  height: _react2.default.PropTypes.number,\n\t  width: _react2.default.PropTypes.number,\n\t  top: _react2.default.PropTypes.number,\n\t  left: _react2.default.PropTypes.number\n\t};\n\t\n\tSprite.defaultProps = {\n\t  src: '',\n\t  PATHS: {\n\t    images: '/assets/images'\n\t  },\n\t  height: 40,\n\t  width: 40,\n\t  top: 0,\n\t  left: 0\n\t};\n\t\n\texports.default = Sprite;\n\n/***/ },\n\n/***/ 224:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(225);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(220)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./components.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./components.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 225:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(219)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 226:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sprite = __webpack_require__(223);\n\t\n\tvar _sprite2 = _interopRequireDefault(_sprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Bullet = function (_PureComponent) {\n\t  _inherits(Bullet, _PureComponent);\n\t\n\t  function Bullet() {\n\t    _classCallCheck(this, Bullet);\n\t\n\t    return _possibleConstructorReturn(this, (Bullet.__proto__ || Object.getPrototypeOf(Bullet)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Bullet, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var data = this.props.data;\n\t\n\t      var height = data.get('height');\n\t      var width = data.get('width');\n\t      var src = 'bullet_' + height + 'x' + width + '.png';\n\t      var rotation = data.get('rotation');\n\t      var positionX = data.get('positionX');\n\t      var positionY = data.get('positionY');\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'outline',\n\t          style: {\n\t            position: 'fixed',\n\t            transform: 'rotate(' + rotation + 'deg)',\n\t            height: height,\n\t            width: width,\n\t            top: positionY,\n\t            left: positionX\n\t          } },\n\t        _react2.default.createElement(_sprite2.default, {\n\t          src: src,\n\t          height: height,\n\t          width: width,\n\t          top: positionY,\n\t          left: positionX\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Bullet;\n\t}(_react.PureComponent);\n\t\n\texports.default = Bullet;\n\n/***/ },\n\n/***/ 227:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sprite = __webpack_require__(223);\n\t\n\tvar _sprite2 = _interopRequireDefault(_sprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Planet = function (_PureComponent) {\n\t  _inherits(Planet, _PureComponent);\n\t\n\t  function Planet(props) {\n\t    _classCallCheck(this, Planet);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Planet.__proto__ || Object.getPrototypeOf(Planet)).call(this, props));\n\t\n\t    var height = _this.props.data.get('height');\n\t    var width = _this.props.data.get('width');\n\t    var type = _this.props.data.get('type');\n\t    _this.state = {\n\t      src: type + '_planet_' + height + 'x' + width + '.png',\n\t      height: height,\n\t      width: width\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Planet, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var data = this.props.data;\n\t      var rotation = data.get('rotation');\n\t      var positionX = data.get('positionX');\n\t      var positionY = data.get('positionY');\n\t      // console.log(`ship: ${rotation} @ (${positionX}, ${positionY})`)\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'outline',\n\t          style: {\n\t            height: this.state.height,\n\t            width: this.state.width,\n\t            top: positionY,\n\t            left: positionX,\n\t            position: 'fixed'\n\t          } },\n\t        _react2.default.createElement(_sprite2.default, {\n\t          src: this.state.src,\n\t          height: this.state.height,\n\t          width: this.state.width,\n\t          top: positionY,\n\t          left: positionX\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Planet;\n\t}(_react.PureComponent);\n\t\n\texports.default = Planet;\n\n/***/ },\n\n/***/ 228:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sprite = __webpack_require__(223);\n\t\n\tvar _sprite2 = _interopRequireDefault(_sprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Message = function (_Component) {\n\t  _inherits(Message, _Component);\n\t\n\t  function Message() {\n\t    _classCallCheck(this, Message);\n\t\n\t    return _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Message, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var messageText = this.props.data.get('text');\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'message' },\n\t        messageText\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Message;\n\t}(_react.Component);\n\t\n\texports.default = Message;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// app.b5900bd0aa7d2b509dce.js","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore} from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport spaceApp from './reducers/reducers';\r\nimport {List} from 'immutable';\r\n\r\nimport {Immutable} from 'immutable';\r\nimport installDevTools from 'immutable-devtools';\r\ninstallDevTools(Immutable);\r\n\r\nimport './main.css';\r\n\r\nimport App from './app';\r\n\r\nconst props = {\r\n};\r\n\r\nlet store = createStore(spaceApp);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App {...props}/>\r\n  </Provider>,\r\n  document.getElementById('root'));\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/index.js","import {combineReducers} from 'redux';\r\nimport {ADD} from '../api/actions';\r\nimport gameLoop from './gameLoop';\r\n\r\nconst baseInitialState = {\r\n  count: 0\r\n};\r\n\r\nfunction base(state = baseInitialState, action) {\r\n  switch (action.type) {\r\n    case ADD:\r\n      return Object.assign({}, state, {\r\n        count: state.count + 1\r\n      });\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst spaceApp = combineReducers({\r\n  base,\r\n  gameLoop\r\n});\r\n\r\nexport default spaceApp\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/reducers.js","import {Map, Set} from 'immutable';\r\n\r\nexport const ADD = 'ADD';\r\nexport const ADD_SHIP = 'ADD_SHIP';\r\nexport const UNHANDLED = 'UNHANDLED';\r\nexport const KEY_DOWN = 'KEY_DOWN';\r\nexport const MOVE_KEY_DOWN = 'MOVE_KEY_DOWN';\r\nexport const KEY_UP = 'KEY_UP';\r\nexport const MOVE_KEY_UP = 'MOVE_KEY_UP';\r\nexport const TICK = 'TICK';\r\nexport const ATTEMPT_TO_LAND = 'ATTEMPT_TO_LAND';\r\n\r\nexport function add(num) {\r\n  return {type: ADD, num}\r\n}\r\n\r\nexport function attemptToLandOnPlanet(ship) {\r\n  return {\r\n    type: ATTEMPT_TO_LAND,\r\n    ship: ship\r\n  }\r\n}\r\n\r\nexport function addShip() {\r\n  const rotation = getRandomArbitrary(0, 360);\r\n  const x = getRandomArbitrary(10, 800);\r\n  const y = getRandomArbitrary(100, 800);\r\n  return {\r\n    type: ADD_SHIP,\r\n    ship: new Map({\r\n      height: 40,\r\n      width: 40,\r\n      rotation: rotation,\r\n      positionX: x,\r\n      positionY: y\r\n    })\r\n  }\r\n}\r\n\r\nfunction getRandomArbitrary(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\nconst MOVEMENT_KEYS = new Set(['w', 'a', 's', 'd']);\r\n\r\nexport function handleInputKeyDown(keyDown) {\r\n  let actionType;\r\n  if (MOVEMENT_KEYS.has(keyDown)) {\r\n    actionType = MOVE_KEY_DOWN\r\n  } else {\r\n    actionType = KEY_DOWN\r\n  }\r\n  return {\r\n    type: actionType,\r\n    key: keyDown\r\n  }\r\n}\r\n\r\nexport function handleInputKeyUp(keyUp) {\r\n  let actionType;\r\n  if (MOVEMENT_KEYS.has(keyUp)) {\r\n    actionType = MOVE_KEY_UP\r\n  } else {\r\n    actionType = UNHANDLED\r\n  }\r\n  return {\r\n    type: actionType,\r\n    key: keyUp\r\n  }\r\n}\r\n\r\nexport function loopTick() {\r\n  return {\r\n    type: TICK\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/api/actions.js","import {\r\n  MOVE_KEY_DOWN, MOVE_KEY_UP, KEY_DOWN, KEY_UP, TICK,\r\n  ADD_SHIP, ATTEMPT_TO_LAND\r\n} from '../api/actions';\r\n\r\nimport initialState from '../initialState';\r\n\r\nimport {onTickProjectiles} from './onTickProjectiles';\r\nimport {onTickShip} from './onTickShip';\r\nimport {onTickShips} from './onTickShips';\r\nimport {onTickMessages} from './onTickMessages';\r\nimport {fireWeapon} from './fireWeapon';\r\nimport {landOnPlanet} from './landOnPlanet';\r\nimport {collisionDetector} from './collisionDetector';\r\nimport {collisionResolver} from './collisionResolver';\r\n\r\nfunction onTick(state) {\r\n  const updatedStateWithPlayerShipMovement = onTickShip(state);\r\n  const updatedStateWithShipsMovement = onTickShips(updatedStateWithPlayerShipMovement);\r\n  const updatedStateWithProjectileMovement = onTickProjectiles(updatedStateWithShipsMovement);\r\n  const updatedStateWithCollisions = collisionDetector(updatedStateWithProjectileMovement);\r\n  const updatedStateWithCollisionsResolved = collisionResolver(updatedStateWithCollisions);\r\n  const updatedStateWithCollisionsMessagesUpdated = onTickMessages(updatedStateWithCollisionsResolved);\r\n  return updatedStateWithCollisionsMessagesUpdated;\r\n}\r\n\r\nexport default function gameLoop(state = initialState, action) {\r\n  switch (action.type) {\r\n    case MOVE_KEY_DOWN:\r\n      return state.setIn(['keysDown', action.key], true);\r\n    case MOVE_KEY_UP:\r\n      return state.setIn(['keysDown', action.key], false);\r\n    case KEY_DOWN:\r\n      if (action.key === ' ') return fireWeapon(state);\r\n      if (action.key === 'l') return landOnPlanet(state, state.get('ship'));\r\n      break;\r\n    case ATTEMPT_TO_LAND:\r\n      break;\r\n    case ADD_SHIP:\r\n      const updatedCount = state.getIn(['ships', 'count']) + 1;\r\n      const updatedState = state.setIn(['ships', 'count'], updatedCount);\r\n      const shipWithId = action.ship.set('id', updatedCount);\r\n      return updatedState.setIn(['ships', 'list'],\r\n        updatedState.getIn(['ships', 'list']).push(shipWithId));\r\n    case TICK:\r\n      return onTick(state);\r\n  }\r\n  return state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/gameLoop.js","import {Map, List} from 'immutable';\r\n\r\nconst initialState = new Map({\r\n  ship: new Map({\r\n    id: 1,\r\n    height: 40,\r\n    width: 40,\r\n    rotation: 135,\r\n    positionX: 0,\r\n    positionY: 100\r\n  }),\r\n  ships: new Map({\r\n    count: 3,\r\n    list: new List([new Map({\r\n      id: 1,\r\n      height: 40,\r\n      width: 40,\r\n      rotation: 90,\r\n      positionX: 200,\r\n      positionY: 500\r\n    }), new Map({\r\n      id: 2,\r\n      height: 40,\r\n      width: 40,\r\n      rotation: 0,\r\n      positionX: 600,\r\n      positionY: 200\r\n    }), new Map({\r\n      id: 3,\r\n      height: 40,\r\n      width: 40,\r\n      rotation: 135,\r\n      positionX: 300,\r\n      positionY: 400\r\n    })])\r\n  }),\r\n  keysDown: new Map(),\r\n  projectiles: new Map({\r\n    count: 0,\r\n    list: new List()\r\n  }),\r\n  collisions: new List(),\r\n  planets: new List([new Map({\r\n    height: 120,\r\n    width: 120,\r\n    positionX: 400,\r\n    positionY: 400,\r\n    type: 'blue',\r\n    name: 'Scorpion',\r\n    id: 1\r\n  })]),\r\n  messages: new Map({\r\n    count: 1,\r\n    list: new List([new Map({\r\n      text: 'Welcome to the game; use WASD to fly, spacebar to shoot and L to land on planets',\r\n      id: 1,\r\n      ticks: 200\r\n    })])\r\n  })\r\n});\r\n\r\nexport default initialState;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/initialState.js","import {calculatePositionChange} from './movement';\r\n\r\nfunction filterVisibleProjectiles(projectile, index, projectiles) {\r\n  const positionX = projectile.get('positionX');\r\n  const positionY = projectile.get('positionY');\r\n  // console.log(`filtering: (${positionX}, ${positionY})`);\r\n  if (positionX > 1000 || positionX < -50 || positionY > 1000 || positionY < 0) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function onTickProjectiles(state) {\r\n  const projectiles = state.getIn(['projectiles', 'list']);\r\n  const projectilesAfterPruningOffscreen = projectiles.filter(filterVisibleProjectiles);\r\n  const stateWithVisibleProjectilesOnly = state.setIn(['projectiles', 'list'], projectilesAfterPruningOffscreen);\r\n\r\n  const stateWithProjectilePositionChanges = projectilesAfterPruningOffscreen\r\n    .reduce((updatedState, projectile, index) => {\r\n      const {positionX, positionY} = calculatePositionChange(\r\n        projectile.get('speed'),\r\n        projectile.get('rotation'),\r\n        projectile.get('positionX'),\r\n        projectile.get('positionY'));\r\n\r\n      let updatedProjectile = projectile.set('positionX', positionX).set('positionY', positionY);\r\n      return updatedState.setIn(['projectiles', 'list', index], updatedProjectile)\r\n    }, stateWithVisibleProjectilesOnly);\r\n\r\n  return stateWithProjectilePositionChanges;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickProjectiles.js","export function calculatePositionChange(distance, rotation, positionX, positionY) {\r\n  console.log(`${distance}`);\r\n  const rotationRadians = rotation === 0 ? 0 : Math.PI * rotation / 180;\r\n  const distanceY = distance * Math.cos(rotationRadians) * -1;\r\n  const distanceX = distance * Math.sin(rotationRadians);\r\n  return {\r\n    positionX: positionX + distanceX,\r\n    positionY: positionY + distanceY\r\n  }\r\n}\r\n\r\nexport function calculateShipPosition(ship, speed) {\r\n  // dy = d * cos(rotation)\r\n  // dx = d * sin(rotation)\r\n  // could the compute cos and sin of angles up front in a map:\r\n  // rotation -> {cos(rotation), sin(rotation)}\r\n  const {positionX, positionY} = calculatePositionChange(\r\n    speed,\r\n    ship.get('rotation'),\r\n    ship.get('positionX'),\r\n    ship.get('positionY'));\r\n  let updatedState = ship.set('positionX', positionX);\r\n  updatedState = updatedState.set('positionY', positionY);\r\n  return updatedState;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/movement.js","import {Map, List} from 'immutable';\r\n\r\nimport {calculateShipPosition} from './movement';\r\n\r\nexport const TURN_SHIP = 'TURN_SHIP';\r\nexport const MOVE_SHIP_BW = 'MOVE_SHIP_BW';\r\nexport const MOVE_SHIP_FW = 'MOVE_SHIP_FW';\r\nexport const FIRE_WEAPON = 'FIRE_WEAPON';\r\n\r\nfunction buildKeysDownActions(keysDown) {\r\n  const defaultAmount = 7;\r\n  const activeActions = [];\r\n  if (keysDown.has('w')) {\r\n    activeActions.push({\r\n      type: MOVE_SHIP_FW,\r\n      speed: 7\r\n    });\r\n  }\r\n  if (keysDown.has('s')) {\r\n    activeActions.push({\r\n      type: MOVE_SHIP_BW,\r\n      speed: -4\r\n    });\r\n  }\r\n  if (keysDown.has('a')) {\r\n    activeActions.push({\r\n      type: TURN_SHIP,\r\n      amount: -defaultAmount\r\n    });\r\n  }\r\n  if (keysDown.has('d')) {\r\n    activeActions.push({\r\n      type: TURN_SHIP,\r\n      amount: defaultAmount\r\n    });\r\n  }\r\n  return new List(activeActions);\r\n}\r\n\r\nexport function onTickShip(state) {\r\n  const keysDown = state.get('keysDown');\r\n  const activeKeysDown = keysDown.filter((value, key) => value);\r\n\r\n  // update ship state\r\n  const activeActions = buildKeysDownActions(activeKeysDown);\r\n  return activeActions.reduce((updatedState, action) => {\r\n    switch (action.type) {\r\n      case TURN_SHIP:\r\n        return updatedState.setIn(['ship', 'rotation'],\r\n          updatedState.getIn(['ship', 'rotation']) + action.amount);\r\n      case MOVE_SHIP_FW:\r\n      case MOVE_SHIP_BW:\r\n        return updatedState.set('ship',\r\n          calculateShipPosition(updatedState.get('ship'), action.speed));\r\n    }\r\n  }, state);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickShip.js","import {Map, List} from 'immutable';\r\n\r\nimport {calculatePositionChange} from './movement';\r\n\r\nfunction calculateNewPosition(state, speed) {\r\n  // dy = d * cos(rotation)\r\n  // dx = d * sin(rotation)\r\n  // could the compute cos and sin of angles up front in a map:\r\n  // rotation -> {cos(rotation), sin(rotation)}\r\n  const {positionX, positionY} = calculatePositionChange(\r\n    speed,\r\n    state.get('rotation'),\r\n    state.get('positionX'),\r\n    state.get('positionY'));\r\n  let updatedState = state.set('positionX', positionX);\r\n  updatedState = updatedState.set('positionY', positionY);\r\n  return updatedState;\r\n}\r\n\r\nexport function onTickShips(state) {\r\n  return state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickShips.js","export function onTickMessages(state) {\r\n  // decrement the ticks on each message\r\n  const messages = state.getIn(['messages', 'list']);\r\n  const updatedMessages = messages\r\n    // filter out messages that will expire on this tick\r\n    .filter((message) => {\r\n      const ticks = message.get('ticks');\r\n      return !(ticks - 1 < 0);\r\n    })\r\n    .map((message) => {\r\n      const ticks = message.get('ticks');\r\n      if (ticks) {\r\n        return message.set('ticks', ticks - 1);\r\n      }\r\n      return message;\r\n    });\r\n  return state.setIn(['messages', 'list'], updatedMessages);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickMessages.js","import {Map, List} from 'immutable';\r\n\r\nexport function fireWeapon(state) {\r\n  const ship = state.get('ship');\r\n  const rotation = ship.get('rotation'); // comes out same rotation as ship\r\n  const positionX = ship.get('positionX');\r\n  const positionY = ship.get('positionY');\r\n  const updatedCount = state.getIn(['projectiles', 'count']) + 1;\r\n\r\n  const newProjectileProps = new Map({\r\n    rotation, positionX, positionY,\r\n    height: 40,\r\n    width: 40,\r\n    speed: 15,\r\n    id: updatedCount\r\n  });\r\n\r\n  const currentProjectiles = state.getIn(['projectiles', 'list']);\r\n  const updatedProjectiles = currentProjectiles.push(newProjectileProps);\r\n  const updatedState =  state.setIn(['projectiles', 'count'], updatedCount);\r\n  return updatedState.setIn(['projectiles', 'list'], updatedProjectiles);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/fireWeapon.js","import {Map, List} from 'immutable';\r\n\r\nimport doCirclesOverlap from '../api/doCirclesOverlap';\r\nimport addMessage from './addMessage';\r\n\r\nconst LANDING_RANGE = 50;\r\nconst HAILING_RANGE = 100;\r\n\r\nexport function landOnPlanet(state, ship) {\r\n  const planets = state.get('planets');\r\n  const closestPlanet = findClosestPlanetInHailing(planets, ship);\r\n  if (!closestPlanet) {\r\n    return state;\r\n  }\r\n  const messageCount = state.getIn(['messages', 'count']);\r\n  let updatedMsgCount = messageCount + 1;\r\n  const hailResult = hailPlanet(closestPlanet, ship, updatedMsgCount);\r\n  if (hailResult.get('status') === 'ok') {\r\n    const existingMsgs = state.getIn(['messages', 'list']);\r\n    if (withinRange(closestPlanet, ship, LANDING_RANGE)) {\r\n      const landingResult = attemptLanding(closestPlanet, ship, messageCount);\r\n      const newMsg = landingResult.get('message');\r\n      const previousHailMessageIndex = existingMsgs.findIndex((message) => {\r\n        return message.get('text') == 'cleared for landing';\r\n      });\r\n      const existingMsgsWithoutHail =\r\n        previousHailMessageIndex != -1\r\n          ? existingMsgs.delete(previousHailMessageIndex)\r\n          : existingMsgs;\r\n      return addMessage(state.setIn(['messages', 'list'], existingMsgsWithoutHail), newMsg);\r\n    }\r\n    const newMsg = hailResult.get('message');\r\n    const updatedMsgs = existingMsgs.concat([newMsg]);\r\n    return state.setIn(['messages', 'count'], updatedMsgCount)\r\n      .setIn(['messages', 'list'], updatedMsgs);\r\n  }\r\n  return state;\r\n}\r\n\r\nfunction attemptLanding(planet, ship, messageCount) {\r\n  return new Map({\r\n    status: 'ok',\r\n    message: new Map({\r\n      text: `Welcome to ${planet.get('name')}`,\r\n      ticks: 80,\r\n      id: messageCount + 1\r\n    })\r\n  })\r\n}\r\n\r\nfunction hailPlanet(planet, ship, messageCount) {\r\n  if (allowedToLand(planet, ship)) {\r\n    return new Map({\r\n      status: 'ok',\r\n      message: new Map({\r\n        text: 'cleared for landing',\r\n        ticks: 200,\r\n        id: messageCount + 1\r\n      })\r\n    })\r\n  }\r\n  return new Map({\r\n    status: 'not_allowed',\r\n    message: new Map({\r\n      text: 'not allowed to land',\r\n      id: messageCount + 1\r\n    })\r\n  });\r\n}\r\n\r\nfunction allowedToLand(planet, ship) {\r\n  return true;\r\n}\r\n\r\nfunction findClosestPlanetInHailing(planets, ship) {\r\n  const planetsWithinRangeOfShip = planets.filter((planet) =>\r\n    withinRange(planet, ship, HAILING_RANGE)\r\n  );\r\n  // TODO: when there's multiple planets in range, do something\r\n  // smarter here and pick the closest one\r\n  const closestPlanet =\r\n    planetsWithinRangeOfShip.size == 1\r\n      ? planetsWithinRangeOfShip.first()\r\n      : planetsWithinRangeOfShip.reduce((closestPlanetSoFar, planet) => {\r\n      return closestPlanetSoFar;\r\n    }, planetsWithinRangeOfShip.get(0));\r\n  return closestPlanet;\r\n}\r\n\r\nfunction withinRange(planet, ship, range) {\r\n  // compare circles using the range plus the radii of the planet and ships\r\n  const planetX = planet.get('positionX');\r\n  const planetY = planet.get('positionY');\r\n  const planetHeight = planet.get('height');\r\n  const planetWidth = planet.get('width');\r\n  const shipX = ship.get('positionX');\r\n  const shipY = ship.get('positionY');\r\n  const shipHeight = ship.get('height');\r\n  const shipWidth = ship.get('width');\r\n\r\n  const planetRadius = planetWidth >= planetHeight ? planetWidth / 2 : planetHeight / 2;\r\n  const shipRadius = shipWidth >= shipHeight ? shipWidth / 2 : shipHeight / 2;\r\n  const planetCircle = {\r\n    center: {top: planetY + planetRadius, left: planetX + planetRadius},\r\n    radius: planetRadius + range\r\n  };\r\n  const shipCircle = {\r\n    center: {top: shipY + shipRadius, left: shipX + shipRadius},\r\n    radius: shipRadius\r\n  };\r\n  return doCirclesOverlap(planetCircle, shipCircle);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/landOnPlanet.js","export default function doCirclesOverlap(circle1, circle2) {\r\n  // find the distance between the centers and compare to the sum of the radii\r\n  const dx = circle1.center.top - circle2.center.top;\r\n  const dy = circle1.center.left - circle2.center.left;\r\n  // taking square roots is more expensive than squaring the sum of the radii\r\n  const dSqr = (dx * dx) + (dy * dy);\r\n  const radiusSumSqr = (circle1.radius + circle2.radius) * (circle1.radius + circle2.radius);\r\n  if (dSqr - radiusSumSqr < 500) {\r\n    // console.log(`difference between ${circle1.center.top} and ${circle2.center.top}`);\r\n    // console.log(`difference between ${circle1.center.left} and ${circle2.center.left}`);\r\n    // console.log(`collision close: ${dSqr} vs ${radiusSumSqr}`)\r\n  }\r\n  return dSqr <= radiusSumSqr;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/api/doCirclesOverlap.js","import {Map} from 'immutable';\r\n\r\nexport default function addMessage(state, message) {\r\n  const {text, ticks} = message;\r\n  const messages = state.get('messages');\r\n  const count = messages.get('count');\r\n  const list = messages.get('list');\r\n  const updatedMsgList = list.push(new Map({\r\n    id: count + 1,\r\n    text, ticks\r\n  }));\r\n  return state.setIn(['messages', 'list'], updatedMsgList)\r\n    .setIn(['messages', 'count'], count + 1);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/addMessage.js","import {Map, List} from 'immutable';\r\n\r\nimport doCirclesOverlap from '../api/doCirclesOverlap';\r\n\r\n// TODO: this is not accurate, need to figure out a better way of calculating this stuff\r\n// http://stackoverflow.com/questions/12066870/how-to-check-if-an-element-is-overlapping-other-elements\r\nfunction findOverlapAsRectangles(obj1, obj2) {\r\n  const obj1Height = obj1.get('height');\r\n  const obj1Width = obj1.get('width');\r\n  const obj1X = obj1.get('positionX');\r\n  const obj1Y = obj1.get('positionY');\r\n  const obj2Height = obj2.get('height');\r\n  const obj2Width = obj2.get('width');\r\n  const obj2X = obj2.get('positionX');\r\n  const obj2Y = obj2.get('positionY');\r\n  const obj1Left = obj1X;\r\n  const obj1Right = obj1X + obj1Width;\r\n  const obj2Left = obj2X;\r\n  const obj2Right = obj2X + obj2Width;\r\n  const obj1Top = obj1Y;\r\n  const obj1Bottom = obj1Y + obj1Height;\r\n  const obj2Top = obj2Y;\r\n  const obj2Bottom = obj2Y + obj2Height;\r\n\r\n  const doesNotOverlap = (\r\n  obj2Left > obj1Right\r\n  || obj2Top > obj1Bottom\r\n  || obj2Right < obj1Left\r\n  || obj2Bottom < obj1Top);\r\n\r\n  !doesNotOverlap && console.log(`collision found, at least one is true: \r\n    ${obj2Left} <= ${obj1Right},\r\n    ${obj2Top} <= ${obj1Bottom},\r\n    ${obj2Right} >= ${obj1Left},\r\n    ${obj2Bottom} >= ${obj1Top}`);\r\n  return !doesNotOverlap;\r\n}\r\n\r\nfunction findOverlap(obj1, obj2) {\r\n  const obj1Height = obj1.get('height');\r\n  const obj1Width = obj1.get('width');\r\n  const obj1X = obj1.get('positionX');\r\n  const obj1Y = obj1.get('positionY');\r\n  const obj2Height = obj2.get('height');\r\n  const obj2Width = obj2.get('width');\r\n  const obj2X = obj2.get('positionX');\r\n  const obj2Y = obj2.get('positionY');\r\n  // use overlapping circles to determine if there's a collision\r\n  // create circles for each obj\r\n  const obj1Radius = obj1Width >= obj1Height ? obj1Width / 2 : obj1Height / 2;\r\n  const circle1 = {\r\n    center: {top: obj1Y + obj1Radius, left: obj1X + obj1Radius},\r\n    radius: obj1Radius\r\n  };\r\n  const obj2Radius = obj2Width >= obj2Height ? obj2Width / 2 : obj2Height / 2;\r\n  const circle2 = {\r\n    center: {top: obj2Y + obj2Radius, left: obj2X + obj2Radius},\r\n    radius: obj2Radius\r\n  };\r\n  // find if the circles overlap\r\n  // TODO: find direction/side that the collision happened?\r\n  return doCirclesOverlap(circle1, circle2);\r\n}\r\n\r\nexport function collisionDetector(state) {\r\n  const projectiles = state.getIn(['projectiles', 'list']);\r\n  const ships = state.getIn(['ships', 'list']);\r\n  const updatedStateWithCollisions = projectiles.reduce((updatedState, projectile, projectileIndex) => {\r\n    const existingCollisionsDetected = updatedState.get('collisions');\r\n    const collisionsFound = ships\r\n      .filter((ship) =>\r\n        findOverlap(projectile, ship))\r\n      .map((ship) => {\r\n        console.log(`collision detected`);\r\n        // console.log(`collision detected: projectile: ${projectile}, ship: ${ship}`);\r\n        // return a collision record to be resolved\r\n        return new Map({\r\n          projectile, ship\r\n        });\r\n      });\r\n    return updatedState.set('collisions', collisionsFound.concat(existingCollisionsDetected));\r\n  }, state);\r\n  return updatedStateWithCollisions;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/collisionDetector.js","import {Map, List} from 'immutable';\r\n\r\nimport addMessage from './addMessage';\r\n\r\nfunction resolveCollision(state, collision) {\r\n  if (!collision) return state;\r\n  const projectile = collision.get('projectile');\r\n  const projectileId = projectile.get('id');\r\n  const ship = collision.get('ship');\r\n  const shipId = ship.get('id');\r\n  // console.log(`resolving collision: projectile: ${projectile}, ship: ${ship}`);\r\n  const projectileIndex = state.getIn(['projectiles', 'list']).findIndex((projectile) => {\r\n    return projectile.get('id') == projectileId;\r\n  });\r\n  const shipIndex = state.getIn(['ships', 'list']).findIndex((ship) => {\r\n    return ship.get('id') == shipId;\r\n  });\r\n  const stateWithoutProjectile = state.deleteIn(['projectiles', 'list', projectileIndex]);\r\n  const stateWithoutShip = stateWithoutProjectile.deleteIn(['ships', 'list', shipIndex]);\r\n  return stateWithoutShip;\r\n}\r\n\r\nexport function collisionResolver(state) {\r\n  const collisions = state.get('collisions');\r\n  if (collisions.size > 0) {\r\n    const stateWithResolvedCollisions = collisions.reduce((updatedState, collision) => {\r\n      const message = {\r\n        text: 'Ship was destroyed',\r\n        ticks: 100\r\n      };\r\n      const stateWithMessage = addMessage(updatedState, message);\r\n      console.log(`adding message: ${message.text}`);\r\n      return resolveCollision(stateWithMessage, collision);\r\n    }, state);\r\n    return stateWithResolvedCollisions.set('collisions', new List());\r\n  }\r\n  return state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/collisionResolver.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"immutableDevTools\"] = factory();\n\telse\n\t\troot[\"immutableDevTools\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createFormatters2 = __webpack_require__(1);\n\n\tvar _createFormatters3 = _interopRequireDefault(_createFormatters2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\t// Check for globally defined Immutable and add an install method to it.\n\tif (typeof Immutable !== \"undefined\") {\n\t  Immutable.installDevTools = install.bind(null, Immutable);\n\t}\n\n\t// I imagine most people are using Immutable as a CommonJS module though...\n\n\tvar installed = false;\n\tfunction install(Immutable) {\n\t  if (typeof window === \"undefined\") {\n\t    throw new Error(\"Can only install immutable-devtools in a browser environment.\");\n\t  }\n\n\t  // Don't install more than once.\n\t  if (installed === true) {\n\t    return;\n\t  }\n\n\t  window.devtoolsFormatters = window.devtoolsFormatters || [];\n\n\t  var _createFormatters = (0, _createFormatters3.default)(Immutable);\n\n\t  var RecordFormatter = _createFormatters.RecordFormatter;\n\t  var OrderedMapFormatter = _createFormatters.OrderedMapFormatter;\n\t  var OrderedSetFormatter = _createFormatters.OrderedSetFormatter;\n\t  var ListFormatter = _createFormatters.ListFormatter;\n\t  var MapFormatter = _createFormatters.MapFormatter;\n\t  var SetFormatter = _createFormatters.SetFormatter;\n\t  var StackFormatter = _createFormatters.StackFormatter;\n\n\t  window.devtoolsFormatters.push(RecordFormatter, OrderedMapFormatter, OrderedSetFormatter, ListFormatter, MapFormatter, SetFormatter, StackFormatter);\n\n\t  installed = true;\n\t}\n\n\tmodule.exports = install;\n\texports.default = install;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = createFormatter;\n\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\tvar listStyle = { style: 'list-style-type: none; padding: 0; margin: 0 0 0 12px; font-style: normal' };\n\tvar immutableNameStyle = { style: 'color: rgb(232,98,0)' };\n\tvar keyStyle = { style: 'color: #881391' };\n\tvar defaultValueKeyStyle = { style: 'color: #777' };\n\tvar alteredValueKeyStyle = { style: 'color: #881391; font-weight: bolder' };\n\tvar inlineValuesStyle = { style: 'color: #777; font-style: italic' };\n\tvar nullStyle = { style: 'color: #777' };\n\n\tfunction createFormatter(Immutable) {\n\n\t  var reference = function reference(object, config) {\n\t    if (typeof object === 'undefined') return ['span', nullStyle, 'undefined'];else if (object === 'null') return ['span', nullStyle, 'null'];\n\n\t    return ['object', { object: object, config: config }];\n\t  };\n\n\t  var renderIterableHeader = function renderIterableHeader(iterable) {\n\t    var name = arguments.length <= 1 || arguments[1] === undefined ? 'Iterable' : arguments[1];\n\t    return ['span', ['span', immutableNameStyle, name], ['span', '[' + iterable.size + ']']];\n\t  };\n\n\t  var hasBody = function hasBody(collection, config) {\n\t    return collection.size > 0 && !(config && config.noPreview);\n\t  };\n\n\t  var renderIterableBody = function renderIterableBody(collection, mapper) {\n\t    var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n\t    if (options.sorted) {\n\t      collection = collection.sortBy(function (value, key) {\n\t        return key;\n\t      });\n\t    }\n\t    var children = collection.map(mapper).toList().toJS();\n\t    return ['ol', listStyle].concat(_toConsumableArray(children));\n\t  };\n\n\t  var RecordFormatter = {\n\t    header: function header(record, config) {\n\t      if (!(record instanceof Immutable.Record)) return null;\n\n\t      var defaults = record.clear();\n\t      var changed = !Immutable.is(defaults, record);\n\n\t      if (config && config.noPreview) return ['span', changed ? immutableNameStyle : nullStyle, record._name || record.constructor.name || 'Record'];\n\n\t      var inlinePreview = undefined;\n\t      if (!changed) {\n\t        inlinePreview = ['span', inlineValuesStyle, '{}'];\n\t      } else {\n\t        var preview = record.keySeq().reduce(function (preview, key) {\n\t          if (Immutable.is(defaults.get(key), record.get(key))) return preview;\n\t          if (preview.length) preview.push(', ');\n\n\t          preview.push(['span', {}, ['span', keyStyle, key + ': '], reference(record.get(key), { noPreview: true })]);\n\t          return preview;\n\t        }, []);\n\t        inlinePreview = ['span', inlineValuesStyle, '{'].concat(_toConsumableArray(preview), ['}']);\n\t      }\n\t      return ['span', {}, ['span', immutableNameStyle, record._name || record.constructor.name || 'Record'], ' ', inlinePreview];\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(record) {\n\t      var defaults = record.clear();\n\t      var children = record.keySeq().map(function (key) {\n\t        var style = Immutable.is(defaults.get(key), record.get(key)) ? defaultValueKeyStyle : alteredValueKeyStyle;\n\t        return ['li', {}, ['span', style, key + ': '], reference(record.get(key))];\n\t      }).toJS();\n\t      return ['ol', listStyle].concat(_toConsumableArray(children));\n\t    }\n\t  };\n\n\t  var ListFormatter = {\n\t    header: function header(o) {\n\t      if (!Immutable.List.isList(o)) return null;\n\t      return renderIterableHeader(o, 'List');\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(o) {\n\t      return renderIterableBody(o, function (value, key) {\n\t        return ['li', ['span', keyStyle, key + ': '], reference(value)];\n\t      });\n\t    }\n\t  };\n\n\t  var StackFormatter = {\n\t    header: function header(o) {\n\t      if (!Immutable.Stack.isStack(o)) return null;\n\t      return renderIterableHeader(o, 'Stack');\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(o) {\n\t      return renderIterableBody(o, function (value, key) {\n\t        return ['li', ['span', keyStyle, key + ': '], reference(value)];\n\t      });\n\t    }\n\t  };\n\n\t  var MapFormatter = {\n\t    header: function header(o) {\n\t      if (!Immutable.Map.isMap(o)) return null;\n\t      return renderIterableHeader(o, 'Map');\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(o) {\n\t      return renderIterableBody(o, function (value, key) {\n\t        return ['li', {}, '{', reference(key), ' => ', reference(value), '}'];\n\t      }, { sorted: true });\n\t    }\n\t  };\n\n\t  var OrderedMapFormatter = {\n\t    header: function header(o) {\n\t      if (!Immutable.OrderedMap.isOrderedMap(o)) return null;\n\t      return renderIterableHeader(o, 'OrderedMap');\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(o) {\n\t      return renderIterableBody(o, function (value, key) {\n\t        return ['li', {}, '{', reference(key), ' => ', reference(value), '}'];\n\t      });\n\t    }\n\t  };\n\n\t  var SetFormatter = {\n\t    header: function header(o) {\n\t      if (!Immutable.Set.isSet(o)) return null;\n\t      return renderIterableHeader(o, 'Set');\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(o) {\n\t      return renderIterableBody(o, function (value) {\n\t        return ['li', reference(value)];\n\t      }, { sorted: true });\n\t    }\n\t  };\n\n\t  var OrderedSetFormatter = {\n\t    header: function header(o) {\n\t      if (!Immutable.OrderedSet.isOrderedSet(o)) return null;\n\t      return renderIterableHeader(o, 'OrderedSet');\n\t    },\n\n\t    hasBody: hasBody,\n\t    body: function body(o) {\n\t      return renderIterableBody(o, function (value) {\n\t        return ['li', reference(value)];\n\t      });\n\t    }\n\t  };\n\n\t  return {\n\t    RecordFormatter: RecordFormatter,\n\t    OrderedMapFormatter: OrderedMapFormatter,\n\t    OrderedSetFormatter: OrderedSetFormatter,\n\t    ListFormatter: ListFormatter,\n\t    MapFormatter: MapFormatter,\n\t    SetFormatter: SetFormatter,\n\t    StackFormatter: StackFormatter\n\t  };\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/~/immutable-devtools/dist/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./main.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./main.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./main.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/main.css\n// module id = 217\n// module chunks = 0","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{background:#add8e6;margin:0;padding:0}.outline{border:1px solid #000;border-radius:20px}.interface{display:flex;flex-direction:column;justify-content:space-between;height:700px}.top-bar{height:50px;width:90%;background-color:grey;padding-top:10px;padding-left:10px}.menu-button{height:30px}.message-bar{height:50px;width:90%;background-color:grey;padding-top:10px;padding-left:10px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./app/main.css\n// module id = 218\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/~/css-loader/lib/css-base.js","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 220\n// module chunks = 0","import React, {PureComponent} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {addShip, handleInputKeyDown, handleInputKeyUp, loopTick} from './api/actions';\r\n\r\nimport Ship from './components/Ship';\r\nimport Bullet from './components/Bullet';\r\nimport Planet from './components/Planet';\r\nimport Message from './components/Message';\r\n\r\nconst LOOP_INTERVALS = 35;\r\n\r\nclass AppComponent extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this._loopInterval = null;\r\n\r\n    this.state = {\r\n      loopRequest: 0\r\n    };\r\n\r\n    this.onButtonClick = this._onButtonClick.bind(this);\r\n    this.onKeyDown = this._onKeyDown.bind(this);\r\n    this.onKeyUp = this._onKeyUp.bind(this);\r\n    this.onLoopTick = this._onLoopTick.bind(this);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"interface\">\r\n          <div className=\"top-bar\">\r\n            <button className=\"menu-button\" onClick={() =>\r\n              this.onButtonClick()}>\r\n              Add Ship\r\n            </button>\r\n          </div>\r\n          <div className=\"message-bar\">\r\n            {this._renderMessages()}\r\n          </div>\r\n        </div>\r\n        <Ship data={this.props.gameLoop.get('ship')}/>\r\n        {this._renderShips()}\r\n        {this._renderProjectiles()}\r\n        {this._renderPlanets()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  _renderMessages() {\r\n    return this.props.gameLoop\r\n      .getIn(['messages', 'list'])\r\n      .map((message, index) =>\r\n        <Message key={message.get('id')} data={message}/>\r\n      )\r\n  }\r\n\r\n  _renderPlanets() {\r\n    return this.props.gameLoop.get('planets').map((planet) => {\r\n      return <Planet key={planet.get('id')} data={planet}/>\r\n    });\r\n\r\n  }\r\n\r\n  _renderShips() {\r\n    return this.props.gameLoop.getIn(['ships', 'list']).map((ship, index) => {\r\n      return <Ship key={ship.get('id')} data={ship}/>\r\n    });\r\n\r\n  }\r\n\r\n  _renderProjectiles() {\r\n    return this.props.gameLoop.getIn(['projectiles', 'list']).map((projectile, index) => {\r\n      return <Bullet key={projectile.get('id')} data={projectile}/>\r\n    });\r\n  }\r\n\r\n  _onButtonClick() {\r\n    this.props.onButtonClick()\r\n  }\r\n\r\n  _onKeyDown(event) {\r\n    this.props.onKeyDown(event.key);\r\n  }\r\n\r\n  _onKeyUp(event) {\r\n    this.props.onKeyUp(event.key);\r\n  }\r\n\r\n  _onLoopTick() {\r\n    this.props.onLoopTick();\r\n    // this.setState({\r\n    //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\r\n    // });\r\n    this._loopInterval = window.setTimeout(this.onLoopTick, LOOP_INTERVALS);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n    window.addEventListener(\"keyup\", this.onKeyUp);\r\n    // this.setState({\r\n    //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\r\n    // });\r\n    // this._loopInterval = window.setInterval(this.props.onLoopTick, LOOP_INTERVALS);\r\n    this._loopInterval = window.setTimeout(this.onLoopTick, LOOP_INTERVALS);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n    window.removeEventListener(\"keyup\", this.onKeyUp);\r\n    // window.clearInterval(this._loopInterval);\r\n    window.clearTimeout(this._loopInterval);\r\n    this._loopInterval = null;\r\n  }\r\n}\r\n\r\nAppComponent.propTypes = {\r\n  count: React.PropTypes.number,\r\n  gameLoop: React.PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    count: state.base.count,\r\n    gameLoop: state.gameLoop\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onButtonClick: () => {\r\n      dispatch(addShip())\r\n    },\r\n    onKeyDown: (key) => {\r\n      dispatch(handleInputKeyDown(key));\r\n    },\r\n    onKeyUp: (key) => {\r\n      dispatch(handleInputKeyUp(key));\r\n    },\r\n    onLoopTick: () => {\r\n      dispatch(loopTick());\r\n    }\r\n  }\r\n};\r\n\r\nconst App = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AppComponent);\r\n\r\nexport default App;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/app.js","import React, {PureComponent} from 'react';\r\n\r\nimport Sprite from './sprite';\r\n\r\nclass Ship extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const height = this.props.data.get('height');\r\n    const width = this.props.data.get('width');\r\n    this.state = {\r\n      src: `ship_${height}x${width}.png`,\r\n      height,\r\n      width\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const data = this.props.data;\r\n    const rotation = data.get('rotation');\r\n    const positionX = data.get('positionX');\r\n    const positionY = data.get('positionY');\r\n    // console.log(`ship: ${rotation} @ (${positionX}, ${positionY})`)\r\n    return (\r\n      <div className=\"outline\"\r\n           style={{\r\n             transform: `rotate(${rotation}deg)`,\r\n             height: this.state.height,\r\n             width: this.state.width,\r\n             top: positionY,\r\n             left: positionX,\r\n             position: 'fixed'\r\n           }}>\r\n        <Sprite\r\n          src={this.state.src}\r\n          height={this.state.height}\r\n          width={this.state.width}\r\n          top={positionY}\r\n          left={positionX}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Ship;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/Ship.js","import React, {PureComponent} from 'react';\r\n\r\nimport './components.css';\r\n\r\nclass Sprite extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"sprite\"\r\n           height={this.props.height}\r\n           width={this.props.width}\r\n      >\r\n        <img src={`${this.props.PATHS.images}/${this.props.src}`}\r\n             height={this.props.height}\r\n             width={this.props.width}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSprite.propTypes = {\r\n  src: React.PropTypes.string,\r\n  PATHS: React.PropTypes.object,\r\n  height: React.PropTypes.number,\r\n  width: React.PropTypes.number,\r\n  top: React.PropTypes.number,\r\n  left: React.PropTypes.number\r\n};\r\n\r\nSprite.defaultProps = {\r\n  src: '',\r\n  PATHS: {\r\n    images: '/assets/images'\r\n  },\r\n  height: 40,\r\n  width: 40,\r\n  top: 0,\r\n  left: 0\r\n};\r\n\r\nexport default Sprite;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/sprite.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./components.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./components.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./components.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/components.css\n// module id = 224\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./app/components/components.css\n// module id = 225\n// module chunks = 0","import React, {PureComponent} from 'react';\r\n\r\nimport Sprite from './sprite';\r\n\r\nclass Bullet extends PureComponent {\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n    const height = data.get('height');\r\n    const width = data.get('width');\r\n    const src = `bullet_${height}x${width}.png`;\r\n    const rotation = data.get('rotation');\r\n    const positionX = data.get('positionX');\r\n    const positionY = data.get('positionY');\r\n    return (\r\n      <div className=\"outline\"\r\n           style={{\r\n             position: 'fixed',\r\n             transform: `rotate(${rotation}deg)`,\r\n             height: height,\r\n             width: width,\r\n             top: positionY,\r\n             left: positionX\r\n           }}>\r\n        <Sprite\r\n          src={src}\r\n          height={height}\r\n          width={width}\r\n          top={positionY}\r\n          left={positionX}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Bullet;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/Bullet.js","import React, {PureComponent} from 'react';\r\n\r\nimport Sprite from './sprite';\r\n\r\nclass Planet extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const height = this.props.data.get('height');\r\n    const width = this.props.data.get('width');\r\n    const type = this.props.data.get('type');\r\n    this.state = {\r\n      src: `${type}_planet_${height}x${width}.png`,\r\n      height,\r\n      width\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const data = this.props.data;\r\n    const rotation = data.get('rotation');\r\n    const positionX = data.get('positionX');\r\n    const positionY = data.get('positionY');\r\n    // console.log(`ship: ${rotation} @ (${positionX}, ${positionY})`)\r\n    return (\r\n      <div className=\"outline\"\r\n           style={{\r\n             height: this.state.height,\r\n             width: this.state.width,\r\n             top: positionY,\r\n             left: positionX,\r\n             position: 'fixed'\r\n           }}>\r\n        <Sprite\r\n          src={this.state.src}\r\n          height={this.state.height}\r\n          width={this.state.width}\r\n          top={positionY}\r\n          left={positionX}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Planet;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/Planet.js","import React, {Component} from 'react';\r\n\r\nimport Sprite from './sprite';\r\n\r\nclass Message extends Component {\r\n  render() {\r\n    const messageText = this.props.data.get('text');\r\n    return (\r\n      <div className=\"message\">{messageText}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Message;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/Message.js"],"sourceRoot":""}