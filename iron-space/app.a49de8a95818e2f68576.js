webpackJsonp([0,2],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(1),i=o(r),s=n(28),u=o(s),a=n(170),c=n(191),p=n(210),l=o(p);n(212),n(221);var f=n(225),d=o(f),h={},y=(0,a.createStore)(l.default);u.default.render(i.default.createElement(c.Provider,{store:y},i.default.createElement(d.default,h)),document.getElementById("root"))},210:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.ADD:return Object.assign({},e,{count:e.count+1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(170),s=n(211),u=n(213),a=o(u),c={count:0},p=(0,i.combineReducers)({base:r,gameLoop:a.default});t.default=p},211:function(e,t,n){"use strict";function o(e){return{type:a,num:e}}function r(e){var t=void 0;return t=h.has(e)?l:p,{type:t,key:e}}function i(e){var t=void 0;return t=h.has(e)?f:c,{type:t,key:e}}function s(){return{type:d}}Object.defineProperty(t,"__esModule",{value:!0}),t.TICK=t.MOVE_KEY_UP=t.KEY_UP=t.MOVE_KEY_DOWN=t.KEY_DOWN=t.UNHANDLED=t.ADD=void 0,t.add=o,t.handleInputKeyDown=r,t.handleInputKeyUp=i,t.loopTick=s;var u=n(212),a=t.ADD="ADD",c=t.UNHANDLED="UNHANDLED",p=t.KEY_DOWN="KEY_DOWN",l=t.MOVE_KEY_DOWN="MOVE_KEY_DOWN",f=(t.KEY_UP="KEY_UP",t.MOVE_KEY_UP="MOVE_KEY_UP"),d=t.TICK="TICK",h=new u.Set(["w","a","s","d"])},213:function(e,t,n){"use strict";function o(e){var t=(0,a.onTickShip)(e),n=(0,c.onTickShips)(t),o=(0,u.onTickProjectiles)(n),r=(0,l.collisionDetector)(o),i=(0,f.collisionResolver)(r);return i}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case s.MOVE_KEY_DOWN:return e.setIn(["keysDown",t.key],!0);case s.MOVE_KEY_UP:return e.setIn(["keysDown",t.key],!1);case s.KEY_DOWN:if(" "===t.key)return(0,p.fireWeapon)(e);break;case s.TICK:return o(e)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(212),s=n(211),u=n(214),a=n(216),c=n(217),p=n(218),l=n(219),f=n(220),d=new i.Map({ship:new i.Map({height:40,width:40,rotation:0,positionX:0,positionY:0}),ships:new i.List([new i.Map({height:40,width:40,rotation:90,positionX:200,positionY:500}),new i.Map({height:40,width:40,rotation:0,positionX:600,positionY:200}),new i.Map({height:40,width:40,rotation:135,positionX:300,positionY:400})]),keysDown:new i.Map,projectiles:new i.List,collisions:new i.List})},214:function(e,t,n){"use strict";function o(e,t,n){var o=e.get("positionX"),r=e.get("positionY");return!(o>1e3||o<-50||r>1e3||r<0)}function r(e){var t=e.get("projectiles"),n=t.filter(o),r=e.set("projectiles",n),s=n.reduce(function(e,t,n){var o=(0,i.calculatePositionChange)(t.get("speed"),t.get("rotation"),t.get("positionX"),t.get("positionY")),r=o.positionX,s=o.positionY,u=t.set("positionX",r).set("positionY",s);return e.setIn(["projectiles",n],u)},r);return s}Object.defineProperty(t,"__esModule",{value:!0}),t.onTickProjectiles=r;var i=n(215)},215:function(e,t){"use strict";function n(e,t,n,o){var r=0===t?0:Math.PI*t/180,i=e*Math.cos(r)*-1,s=e*Math.sin(r);return{positionX:n+s,positionY:o+i}}function o(e,t){var o=n(t,e.get("rotation"),e.get("positionX"),e.get("positionY")),r=o.positionX,i=o.positionY,s=e.set("positionX",r);return s=s.set("positionY",i)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePositionChange=n,t.calculateShipPosition=o},216:function(e,t,n){"use strict";function o(e){var t=7,n=[];return e.has("w")&&n.push({type:c,speed:7}),e.has("s")&&n.push({type:a,speed:-4}),e.has("a")&&n.push({type:u,amount:-t}),e.has("d")&&n.push({type:u,amount:t}),new i.List(n)}function r(e){var t=e.get("keysDown"),n=t.filter(function(e,t){return e}),r=o(n);return r.reduce(function(e,t){switch(t.type){case u:return e.setIn(["ship","rotation"],e.getIn(["ship","rotation"])+t.amount);case c:case a:return e.set("ship",(0,s.calculateShipPosition)(e.get("ship"),t.speed))}},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FIRE_WEAPON=t.MOVE_SHIP_FW=t.MOVE_SHIP_BW=t.TURN_SHIP=void 0,t.onTickShip=r;var i=n(212),s=n(215),u=t.TURN_SHIP="TURN_SHIP",a=t.MOVE_SHIP_BW="MOVE_SHIP_BW",c=t.MOVE_SHIP_FW="MOVE_SHIP_FW";t.FIRE_WEAPON="FIRE_WEAPON"},217:function(e,t,n){"use strict";function o(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.onTickShips=o,n(212),n(215)},218:function(e,t,n){"use strict";function o(e){var t=e.get("ship"),n=t.get("rotation"),o=t.get("positionX"),i=t.get("positionY"),s=new r.Map({rotation:n,positionX:o,positionY:i,height:40,width:40,speed:2}),u=e.get("projectiles"),a=u.push(s);return e.set("projectiles",a)}Object.defineProperty(t,"__esModule",{value:!0}),t.fireWeapon=o;var r=n(212)},219:function(e,t,n){"use strict";function o(e,t){var n=e.center.top-t.center.top,o=e.center.left-t.center.left,r=n*n+o*o,i=(e.radius+t.radius)*(e.radius+t.radius);return r<=i}function r(e,t){var n=e.get("height"),r=e.get("width"),i=e.get("positionX"),s=e.get("positionY"),u=t.get("height"),a=t.get("width"),c=t.get("positionX"),p=t.get("positionY"),l=r>=n?r/2:n/2,f={center:{top:s+l,left:i+l},radius:l},d=a>=u?a/2:u/2,h={center:{top:p+d,left:c+d},radius:d};return o(f,h)}function i(e){var t=e.get("projectiles"),n=e.get("ships"),o=t.reduce(function(e,t,o){var i=n.map(function(e,n){var i=r(t,e);if(i)return new s.Map({projectile:t,projectileIndex:o,ship:e,shipIndex:n})});return e.set("collisions",i)},e);return o}Object.defineProperty(t,"__esModule",{value:!0}),t.collisionDetector=i;var s=n(212)},220:function(e,t,n){"use strict";function o(e,t){if(!t)return e;var n=(t.get("projectile"),t.get("projectileIndex")),o=(t.get("ship"),t.get("shipIndex")),r=e.deleteIn(["projectiles",n]),i=r.deleteIn(["ships",o]);return i}function r(e){var t=e.get("collisions");if(t.size>0){var n=t.reduce(function(e,t){return o(e,t)},e);return n.set("collisions",new i.List)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.collisionResolver=r;var i=n(212)},221:function(e,t,n){var o=n(222);"string"==typeof o&&(o=[[e.id,o,""]]),n(224)(o,{}),o.locals&&(e.exports=o.locals)},222:function(e,t,n){t=e.exports=n(223)(),t.push([e.id,"body{background:#add8e6}",""])},223:function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},224:function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=d[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(c(o.parts[i],t))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(c(o.parts[i],t));d[o.id]={id:o.id,refs:1,parts:s}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],i=r[0],s=r[1],u=r[2],a=r[3],c={css:s,media:u,sourceMap:a};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(e,t){var n=v(),o=b[b.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function u(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function a(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,o,r;if(t.singleton){var i=_++;n=g||(g=u(t)),o=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(t),o=f.bind(null,n),r=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),o=l.bind(null,n),r=function(){s(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function p(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function l(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var d={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},y=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,_=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=y()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return o(n,t),function(e){for(var i=[],s=0;s<n.length;s++){var u=n[s],a=d[u.id];a.refs--,i.push(a)}if(e){var c=r(e);o(c,t)}for(var s=0;s<i.length;s++){var a=i[s];if(0===a.refs){for(var p=0;p<a.parts.length;p++)a.parts[p]();delete d[a.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},225:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),c=o(a),p=n(191),l=n(211),f=n(226),d=o(f),h=n(230),y=o(h),v=35,g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._loopInterval=null,n.state={loopRequest:0},n.onButtonClick=n._onButtonClick.bind(n),n.onKeyDown=n._onKeyDown.bind(n),n.onKeyUp=n._onKeyUp.bind(n),n}return s(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"App"},c.default.createElement(d.default,{data:this.props.gameLoop.get("ship")}),this._renderShips(),this._renderProjectiles())}},{key:"_renderShips",value:function(){return this.props.gameLoop.get("ships").map(function(e,t){return c.default.createElement(d.default,{key:t,data:e})})}},{key:"_renderProjectiles",value:function(){return this.props.gameLoop.get("projectiles").map(function(e,t){return c.default.createElement(y.default,{key:t,data:e})})}},{key:"_onButtonClick",value:function(){this.props.onButtonClick()}},{key:"_onKeyDown",value:function(e){this.props.onKeyDown(e.key)}},{key:"_onKeyUp",value:function(e){this.props.onKeyUp(e.key)}},{key:"_onLoopTick",value:function(){this.props.onLoopTick()}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this._loopInterval=window.setInterval(this.props.onLoopTick,v)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),window.clearInterval(this._loopInterval),this._loopInterval=null}}]),t}(a.PureComponent);g.propTypes={count:c.default.PropTypes.number,gameLoop:c.default.PropTypes.object};var _=function(e){return{count:e.base.count,gameLoop:e.gameLoop}},b=function(e){return{onButtonClick:function(){e((0,l.add)(1))},onKeyDown:function(t){e((0,l.handleInputKeyDown)(t))},onKeyUp:function(t){e((0,l.handleInputKeyUp)(t))},onLoopTick:function(){e((0,l.loopTick)())}}},w=(0,p.connect)(_,b)(g);t.default=w},226:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),c=o(a),p=n(227),l=o(p),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.data.get("height"),s=n.props.data.get("width");return n.state={src:"ship_"+o+"x"+s+".png",height:o,width:s},n}return s(t,e),u(t,[{key:"render",value:function(){var e=this.props.data,t=e.get("rotation"),n=e.get("positionX"),o=e.get("positionY");return c.default.createElement("div",{className:"outline",style:{transform:"rotate("+t+"deg)",height:this.state.height,width:this.state.width,top:o,left:n,position:"fixed"}},c.default.createElement(l.default,{src:this.state.src,height:this.state.height,width:this.state.width,top:o,left:n}))}}]),t}(a.PureComponent);t.default=f},227:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),c=o(a);n(228);var p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"sprite",height:this.props.height,width:this.props.width},c.default.createElement("img",{src:this.props.PATHS.images+"/"+this.props.src,height:this.props.height,width:this.props.width}))}}]),t}(a.PureComponent);p.propTypes={src:c.default.PropTypes.string,PATHS:c.default.PropTypes.object,height:c.default.PropTypes.number,width:c.default.PropTypes.number,top:c.default.PropTypes.number,left:c.default.PropTypes.number},p.defaultProps={src:"",PATHS:{images:"/assets/images"},height:40,width:40,top:0,left:0},t.default=p},228:function(e,t,n){var o=n(229);"string"==typeof o&&(o=[[e.id,o,""]]),n(224)(o,{}),o.locals&&(e.exports=o.locals)},229:function(e,t,n){t=e.exports=n(223)(),t.push([e.id,".outline{border:1px solid #000;border-radius:20px}",""])},230:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),c=o(a),p=n(227),l=o(p),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){var e=this.props.data,t=e.get("height"),n=e.get("width"),o="bullet_"+t+"x"+n+".png",r=e.get("rotation"),i=e.get("positionX"),s=e.get("positionY");return c.default.createElement("div",{style:{position:"fixed",transform:"rotate("+r+"deg)",height:t,width:n,top:s,left:i}},c.default.createElement(l.default,{src:o,height:t,width:n,top:s,left:i}))}}]),t}(a.PureComponent);t.default=f}});
//# sourceMappingURL=app.a49de8a95818e2f68576.js.map