{"version":3,"sources":["webpack:///app.a49de8a95818e2f68576.js","webpack:///./D:/dev/_ws/iron-space/app/index.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/index.js","webpack:///./D:/dev/_ws/iron-space/app/api/actions.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/gameLoop.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickProjectiles.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/movement.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickShip.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/onTickShips.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/fireWeapon.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/collisionDetector.js","webpack:///./D:/dev/_ws/iron-space/app/reducers/collisionResolver.js","webpack:///./app/main.css?afba","webpack:///./app/main.css","webpack:///./D:/dev/_ws/iron-space/~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./D:/dev/_ws/iron-space/app/app.js","webpack:///./D:/dev/_ws/iron-space/app/components/Ship.js","webpack:///./D:/dev/_ws/iron-space/app/components/sprite.js","webpack:///./app/components/components.css?ee07","webpack:///./app/components/components.css","webpack:///./D:/dev/_ws/iron-space/app/components/Bullet.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactDom2","_redux","_reactRedux","_reducers","_reducers2","_app","_app2","props","store","createStore","render","createElement","Provider","document","getElementById","210","base","state","arguments","length","undefined","baseInitialState","action","type","_actions","ADD","Object","assign","count","defineProperty","value","_gameLoop","_gameLoop2","spaceApp","combineReducers","gameLoop","211","add","num","handleInputKeyDown","keyDown","actionType","MOVEMENT_KEYS","has","MOVE_KEY_DOWN","KEY_DOWN","key","handleInputKeyUp","keyUp","MOVE_KEY_UP","UNHANDLED","loopTick","TICK","KEY_UP","_immutable","Set","213","onTick","updatedStateWithPlayerShipMovement","_onTickShip","onTickShip","updatedStateWithShipsMovement","_onTickShips","onTickShips","updatedStateWithProjectileMovement","_onTickProjectiles","onTickProjectiles","updatedStateWithCollisions","_collisionDetector","collisionDetector","updatedStateWithCollisionsResolved","_collisionResolver","collisionResolver","initialState","setIn","_fireWeapon","fireWeapon","Map","ship","height","width","rotation","positionX","positionY","ships","List","keysDown","projectiles","collisions","214","filterVisibleProjectiles","projectile","index","get","projectilesAfterPruningOffscreen","filter","stateWithVisibleProjectilesOnly","set","stateWithProjectilePositionChanges","reduce","updatedState","_calculatePositionCha","_movement","calculatePositionChange","updatedProjectile","215","distance","rotationRadians","Math","PI","distanceY","cos","distanceX","sin","calculateShipPosition","speed","216","buildKeysDownActions","defaultAmount","activeActions","push","MOVE_SHIP_FW","MOVE_SHIP_BW","TURN_SHIP","amount","activeKeysDown","getIn","FIRE_WEAPON","217","218","newProjectileProps","currentProjectiles","updatedProjectiles","219","doCirclesOverlap","circle1","circle2","dx","center","top","dy","left","dSqr","radiusSumSqr","radius","findOverlap","obj1","obj2","obj1Height","obj1Width","obj1X","obj1Y","obj2Height","obj2Width","obj2X","obj2Y","obj1Radius","obj2Radius","projectileIndex","collisionsFound","map","shipIndex","overlapDetected","220","resolveCollision","collision","stateWithoutProjectile","deleteIn","stateWithoutShip","size","stateWithResolvedCollisions","221","content","id","locals","222","223","list","toString","result","i","this","item","join","modules","mediaQuery","alreadyImportedModules","224","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","Error","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createLinkElement","linkElement","rel","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","isOldIE","test","window","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","Boolean","225","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","descriptor","protoProps","staticProps","_Ship","_Ship2","_Bullet","_Bullet2","LOOP_INTERVALS","AppComponent","_PureComponent","_this","getPrototypeOf","_loopInterval","loopRequest","onButtonClick","_onButtonClick","onKeyDown","_onKeyDown","onKeyUp","_onKeyUp","className","data","_renderShips","_renderProjectiles","event","onLoopTick","addEventListener","setInterval","removeEventListener","clearInterval","PureComponent","propTypes","PropTypes","number","object","mapStateToProps","mapDispatchToProps","dispatch","App","connect","226","_sprite","_sprite2","Ship","src","style","transform","position","227","Sprite","PATHS","images","string","defaultProps","228","229","230","Bullet"],"mappings":"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","file":"app.a49de8a95818e2f68576.js","sourcesContent":["webpackJsonp([0,2],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(28);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _redux = __webpack_require__(170);\n\t\n\tvar _reactRedux = __webpack_require__(191);\n\t\n\tvar _reducers = __webpack_require__(210);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\t__webpack_require__(221);\n\t\n\tvar _app = __webpack_require__(225);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar props = {};\n\t\n\tvar store = (0, _redux.createStore)(_reducers2.default);\n\t\n\t_reactDom2.default.render(_react2.default.createElement(\n\t  _reactRedux.Provider,\n\t  { store: store },\n\t  _react2.default.createElement(_app2.default, props)\n\t), document.getElementById('root'));\n\n/***/ },\n\n/***/ 210:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _redux = __webpack_require__(170);\n\t\n\tvar _actions = __webpack_require__(211);\n\t\n\tvar _gameLoop = __webpack_require__(213);\n\t\n\tvar _gameLoop2 = _interopRequireDefault(_gameLoop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar baseInitialState = {\n\t  count: 0\n\t};\n\t\n\tfunction base() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : baseInitialState;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t    case _actions.ADD:\n\t      return Object.assign({}, state, {\n\t        count: state.count + 1\n\t      });\n\t    default:\n\t      return state;\n\t  }\n\t}\n\t\n\tvar spaceApp = (0, _redux.combineReducers)({\n\t  base: base,\n\t  gameLoop: _gameLoop2.default\n\t});\n\t\n\texports.default = spaceApp;\n\n/***/ },\n\n/***/ 211:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TICK = exports.MOVE_KEY_UP = exports.KEY_UP = exports.MOVE_KEY_DOWN = exports.KEY_DOWN = exports.UNHANDLED = exports.ADD = undefined;\n\texports.add = add;\n\texports.handleInputKeyDown = handleInputKeyDown;\n\texports.handleInputKeyUp = handleInputKeyUp;\n\texports.loopTick = loopTick;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\tvar ADD = exports.ADD = 'ADD';\n\tvar UNHANDLED = exports.UNHANDLED = 'UNHANDLED';\n\tvar KEY_DOWN = exports.KEY_DOWN = 'KEY_DOWN';\n\tvar MOVE_KEY_DOWN = exports.MOVE_KEY_DOWN = 'MOVE_KEY_DOWN';\n\tvar KEY_UP = exports.KEY_UP = 'KEY_UP';\n\tvar MOVE_KEY_UP = exports.MOVE_KEY_UP = 'MOVE_KEY_UP';\n\tvar TICK = exports.TICK = 'TICK';\n\t\n\tfunction add(num) {\n\t  return { type: ADD, num: num };\n\t}\n\t\n\tvar MOVEMENT_KEYS = new _immutable.Set(['w', 'a', 's', 'd']);\n\t\n\tfunction handleInputKeyDown(keyDown) {\n\t  var actionType = void 0;\n\t  if (MOVEMENT_KEYS.has(keyDown)) {\n\t    actionType = MOVE_KEY_DOWN;\n\t  } else {\n\t    actionType = KEY_DOWN;\n\t  }\n\t  return {\n\t    type: actionType,\n\t    key: keyDown\n\t  };\n\t}\n\t\n\tfunction handleInputKeyUp(keyUp) {\n\t  var actionType = void 0;\n\t  if (MOVEMENT_KEYS.has(keyUp)) {\n\t    actionType = MOVE_KEY_UP;\n\t  } else {\n\t    actionType = UNHANDLED;\n\t  }\n\t  return {\n\t    type: actionType,\n\t    key: keyUp\n\t  };\n\t}\n\t\n\tfunction loopTick() {\n\t  return {\n\t    type: TICK\n\t  };\n\t}\n\n/***/ },\n\n/***/ 213:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = gameLoop;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\tvar _actions = __webpack_require__(211);\n\t\n\tvar _onTickProjectiles = __webpack_require__(214);\n\t\n\tvar _onTickShip = __webpack_require__(216);\n\t\n\tvar _onTickShips = __webpack_require__(217);\n\t\n\tvar _fireWeapon = __webpack_require__(218);\n\t\n\tvar _collisionDetector = __webpack_require__(219);\n\t\n\tvar _collisionResolver = __webpack_require__(220);\n\t\n\tvar initialState = new _immutable.Map({\n\t  ship: new _immutable.Map({\n\t    height: 40,\n\t    width: 40,\n\t    rotation: 0,\n\t    positionX: 0,\n\t    positionY: 0\n\t  }),\n\t  ships: new _immutable.List([new _immutable.Map({\n\t    height: 40,\n\t    width: 40,\n\t    rotation: 90,\n\t    positionX: 200,\n\t    positionY: 500\n\t  }), new _immutable.Map({\n\t    height: 40,\n\t    width: 40,\n\t    rotation: 0,\n\t    positionX: 600,\n\t    positionY: 200\n\t  }), new _immutable.Map({\n\t    height: 40,\n\t    width: 40,\n\t    rotation: 135,\n\t    positionX: 300,\n\t    positionY: 400\n\t  })]),\n\t  keysDown: new _immutable.Map(),\n\t  projectiles: new _immutable.List(),\n\t  collisions: new _immutable.List()\n\t});\n\t\n\tfunction onTick(state) {\n\t  var updatedStateWithPlayerShipMovement = (0, _onTickShip.onTickShip)(state);\n\t  var updatedStateWithShipsMovement = (0, _onTickShips.onTickShips)(updatedStateWithPlayerShipMovement);\n\t  var updatedStateWithProjectileMovement = (0, _onTickProjectiles.onTickProjectiles)(updatedStateWithShipsMovement);\n\t  var updatedStateWithCollisions = (0, _collisionDetector.collisionDetector)(updatedStateWithProjectileMovement);\n\t  var updatedStateWithCollisionsResolved = (0, _collisionResolver.collisionResolver)(updatedStateWithCollisions);\n\t  return updatedStateWithCollisionsResolved;\n\t}\n\t\n\tfunction gameLoop() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t    case _actions.MOVE_KEY_DOWN:\n\t      return state.setIn(['keysDown', action.key], true);\n\t    case _actions.MOVE_KEY_UP:\n\t      return state.setIn(['keysDown', action.key], false);\n\t    case _actions.KEY_DOWN:\n\t      if (action.key === ' ') return (0, _fireWeapon.fireWeapon)(state);\n\t      break;\n\t    case _actions.TICK:\n\t      return onTick(state);\n\t  }\n\t  return state;\n\t}\n\n/***/ },\n\n/***/ 214:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.onTickProjectiles = onTickProjectiles;\n\t\n\tvar _movement = __webpack_require__(215);\n\t\n\tfunction filterVisibleProjectiles(projectile, index, projectiles) {\n\t  var positionX = projectile.get('positionX');\n\t  var positionY = projectile.get('positionY');\n\t  // console.log(`filtering: (${positionX}, ${positionY})`);\n\t  if (positionX > 1000 || positionX < -50 || positionY > 1000 || positionY < 0) {\n\t    return false;\n\t  }\n\t  return true;\n\t}\n\t\n\tfunction onTickProjectiles(state) {\n\t  var projectiles = state.get('projectiles');\n\t  var projectilesAfterPruningOffscreen = projectiles.filter(filterVisibleProjectiles);\n\t  var stateWithVisibleProjectilesOnly = state.set('projectiles', projectilesAfterPruningOffscreen);\n\t\n\t  var stateWithProjectilePositionChanges = projectilesAfterPruningOffscreen.reduce(function (updatedState, projectile, index) {\n\t    var _calculatePositionCha = (0, _movement.calculatePositionChange)(projectile.get('speed'), projectile.get('rotation'), projectile.get('positionX'), projectile.get('positionY')),\n\t        positionX = _calculatePositionCha.positionX,\n\t        positionY = _calculatePositionCha.positionY;\n\t\n\t    var updatedProjectile = projectile.set('positionX', positionX).set('positionY', positionY);\n\t    return updatedState.setIn(['projectiles', index], updatedProjectile);\n\t  }, stateWithVisibleProjectilesOnly);\n\t\n\t  return stateWithProjectilePositionChanges;\n\t}\n\n/***/ },\n\n/***/ 215:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.calculatePositionChange = calculatePositionChange;\n\texports.calculateShipPosition = calculateShipPosition;\n\tfunction calculatePositionChange(distance, rotation, positionX, positionY) {\n\t  console.log('' + distance);\n\t  var rotationRadians = rotation === 0 ? 0 : Math.PI * rotation / 180;\n\t  var distanceY = distance * Math.cos(rotationRadians) * -1;\n\t  var distanceX = distance * Math.sin(rotationRadians);\n\t  return {\n\t    positionX: positionX + distanceX,\n\t    positionY: positionY + distanceY\n\t  };\n\t}\n\t\n\tfunction calculateShipPosition(ship, speed) {\n\t  // dy = d * cos(rotation)\n\t  // dx = d * sin(rotation)\n\t  // could the compute cos and sin of angles up front in a map:\n\t  // rotation -> {cos(rotation), sin(rotation)}\n\t  var _calculatePositionCha = calculatePositionChange(speed, ship.get('rotation'), ship.get('positionX'), ship.get('positionY')),\n\t      positionX = _calculatePositionCha.positionX,\n\t      positionY = _calculatePositionCha.positionY;\n\t\n\t  var updatedState = ship.set('positionX', positionX);\n\t  updatedState = updatedState.set('positionY', positionY);\n\t  return updatedState;\n\t}\n\n/***/ },\n\n/***/ 216:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.FIRE_WEAPON = exports.MOVE_SHIP_FW = exports.MOVE_SHIP_BW = exports.TURN_SHIP = undefined;\n\texports.onTickShip = onTickShip;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\tvar _movement = __webpack_require__(215);\n\t\n\tvar TURN_SHIP = exports.TURN_SHIP = 'TURN_SHIP';\n\tvar MOVE_SHIP_BW = exports.MOVE_SHIP_BW = 'MOVE_SHIP_BW';\n\tvar MOVE_SHIP_FW = exports.MOVE_SHIP_FW = 'MOVE_SHIP_FW';\n\tvar FIRE_WEAPON = exports.FIRE_WEAPON = 'FIRE_WEAPON';\n\t\n\tfunction buildKeysDownActions(keysDown) {\n\t  var defaultAmount = 7;\n\t  var activeActions = [];\n\t  if (keysDown.has('w')) {\n\t    activeActions.push({\n\t      type: MOVE_SHIP_FW,\n\t      speed: 7\n\t    });\n\t  }\n\t  if (keysDown.has('s')) {\n\t    activeActions.push({\n\t      type: MOVE_SHIP_BW,\n\t      speed: -4\n\t    });\n\t  }\n\t  if (keysDown.has('a')) {\n\t    activeActions.push({\n\t      type: TURN_SHIP,\n\t      amount: -defaultAmount\n\t    });\n\t  }\n\t  if (keysDown.has('d')) {\n\t    activeActions.push({\n\t      type: TURN_SHIP,\n\t      amount: defaultAmount\n\t    });\n\t  }\n\t  return new _immutable.List(activeActions);\n\t}\n\t\n\tfunction onTickShip(state) {\n\t  var keysDown = state.get('keysDown');\n\t  var activeKeysDown = keysDown.filter(function (value, key) {\n\t    return value;\n\t  });\n\t\n\t  // update ship state\n\t  var activeActions = buildKeysDownActions(activeKeysDown);\n\t  return activeActions.reduce(function (updatedState, action) {\n\t    switch (action.type) {\n\t      case TURN_SHIP:\n\t        return updatedState.setIn(['ship', 'rotation'], updatedState.getIn(['ship', 'rotation']) + action.amount);\n\t      case MOVE_SHIP_FW:\n\t      case MOVE_SHIP_BW:\n\t        return updatedState.set('ship', (0, _movement.calculateShipPosition)(updatedState.get('ship'), action.speed));\n\t    }\n\t  }, state);\n\t}\n\n/***/ },\n\n/***/ 217:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.onTickShips = onTickShips;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\tvar _movement = __webpack_require__(215);\n\t\n\tfunction calculateNewPosition(state, speed) {\n\t  // dy = d * cos(rotation)\n\t  // dx = d * sin(rotation)\n\t  // could the compute cos and sin of angles up front in a map:\n\t  // rotation -> {cos(rotation), sin(rotation)}\n\t  var _calculatePositionCha = (0, _movement.calculatePositionChange)(speed, state.get('rotation'), state.get('positionX'), state.get('positionY')),\n\t      positionX = _calculatePositionCha.positionX,\n\t      positionY = _calculatePositionCha.positionY;\n\t\n\t  var updatedState = state.set('positionX', positionX);\n\t  updatedState = updatedState.set('positionY', positionY);\n\t  return updatedState;\n\t}\n\t\n\tfunction onTickShips(state) {\n\t  return state;\n\t}\n\n/***/ },\n\n/***/ 218:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.fireWeapon = fireWeapon;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\tfunction fireWeapon(state) {\n\t  var ship = state.get('ship');\n\t  var rotation = ship.get('rotation'); // comes out same rotation as ship\n\t  var positionX = ship.get('positionX');\n\t  var positionY = ship.get('positionY');\n\t\n\t  var newProjectileProps = new _immutable.Map({\n\t    rotation: rotation, positionX: positionX, positionY: positionY,\n\t    height: 40,\n\t    width: 40,\n\t    speed: 2\n\t  });\n\t\n\t  var currentProjectiles = state.get('projectiles');\n\t  var updatedProjectiles = currentProjectiles.push(newProjectileProps);\n\t  return state.set('projectiles', updatedProjectiles);\n\t}\n\n/***/ },\n\n/***/ 219:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.collisionDetector = collisionDetector;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\t// TODO: this is not accurate, need to figure out a better way of calculating this stuff\n\t// http://stackoverflow.com/questions/12066870/how-to-check-if-an-element-is-overlapping-other-elements\n\tfunction findOverlapAsRectangles(obj1, obj2) {\n\t  var obj1Height = obj1.get('height');\n\t  var obj1Width = obj1.get('width');\n\t  var obj1X = obj1.get('positionX');\n\t  var obj1Y = obj1.get('positionY');\n\t  var obj2Height = obj2.get('height');\n\t  var obj2Width = obj2.get('width');\n\t  var obj2X = obj2.get('positionX');\n\t  var obj2Y = obj2.get('positionY');\n\t  var obj1Left = obj1X;\n\t  var obj1Right = obj1X + obj1Width;\n\t  var obj2Left = obj2X;\n\t  var obj2Right = obj2X + obj2Width;\n\t  var obj1Top = obj1Y;\n\t  var obj1Bottom = obj1Y + obj1Height;\n\t  var obj2Top = obj2Y;\n\t  var obj2Bottom = obj2Y + obj2Height;\n\t\n\t  var doesNotOverlap = obj2Left > obj1Right || obj2Top > obj1Bottom || obj2Right < obj1Left || obj2Bottom < obj1Top;\n\t\n\t  !doesNotOverlap && console.log('collision found, at least one is true: \\n    ' + obj2Left + ' <= ' + obj1Right + ',\\n    ' + obj2Top + ' <= ' + obj1Bottom + ',\\n    ' + obj2Right + ' >= ' + obj1Left + ',\\n    ' + obj2Bottom + ' >= ' + obj1Top);\n\t  return !doesNotOverlap;\n\t}\n\t\n\tfunction doCirclesOverlap(circle1, circle2) {\n\t  // find the distance between the centers and compare to the sum of the radii\n\t  var dx = circle1.center.top - circle2.center.top;\n\t  var dy = circle1.center.left - circle2.center.left;\n\t  // taking square roots is more expensive than squaring the sum of the radii\n\t  var dSqr = dx * dx + dy * dy;\n\t  var radiusSumSqr = (circle1.radius + circle2.radius) * (circle1.radius + circle2.radius);\n\t  if (dSqr - radiusSumSqr < 500) {\n\t    // console.log(`difference between ${circle1.center.top} and ${circle2.center.top}`);\n\t    // console.log(`difference between ${circle1.center.left} and ${circle2.center.left}`);\n\t    // console.log(`collision close: ${dSqr} vs ${radiusSumSqr}`)\n\t  }\n\t  return dSqr <= radiusSumSqr;\n\t}\n\t\n\tfunction findOverlap(obj1, obj2) {\n\t  var obj1Height = obj1.get('height');\n\t  var obj1Width = obj1.get('width');\n\t  var obj1X = obj1.get('positionX');\n\t  var obj1Y = obj1.get('positionY');\n\t  var obj2Height = obj2.get('height');\n\t  var obj2Width = obj2.get('width');\n\t  var obj2X = obj2.get('positionX');\n\t  var obj2Y = obj2.get('positionY');\n\t  // use overlapping circles to determine if there's a collision\n\t  // create circles for each obj\n\t  var obj1Radius = obj1Width >= obj1Height ? obj1Width / 2 : obj1Height / 2;\n\t  var circle1 = {\n\t    center: { top: obj1Y + obj1Radius, left: obj1X + obj1Radius },\n\t    radius: obj1Radius\n\t  };\n\t  var obj2Radius = obj2Width >= obj2Height ? obj2Width / 2 : obj2Height / 2;\n\t  var circle2 = {\n\t    center: { top: obj2Y + obj2Radius, left: obj2X + obj2Radius },\n\t    radius: obj2Radius\n\t  };\n\t  // find if the circles overlap\n\t  // TODO: find direction/side that the collision happened?\n\t  return doCirclesOverlap(circle1, circle2);\n\t}\n\t\n\tfunction collisionDetector(state) {\n\t  //\n\t  var projectiles = state.get('projectiles');\n\t  var ships = state.get('ships');\n\t  var updatedStateWithCollisions = projectiles.reduce(function (updatedState, projectile, projectileIndex) {\n\t    var collisionsFound = ships.map(function (ship, shipIndex) {\n\t      var overlapDetected = findOverlap(projectile, ship);\n\t      if (overlapDetected) {\n\t        console.log('collision detected');\n\t        // console.log(`collision detected: projectile: ${projectile}, ship: ${ship}`);\n\t        // return a collision record to be resolved\n\t        return new _immutable.Map({\n\t          projectile: projectile, projectileIndex: projectileIndex, ship: ship, shipIndex: shipIndex\n\t        });\n\t      }\n\t    });\n\t    return updatedState.set('collisions', collisionsFound);\n\t  }, state);\n\t  return updatedStateWithCollisions;\n\t}\n\n/***/ },\n\n/***/ 220:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.collisionResolver = collisionResolver;\n\t\n\tvar _immutable = __webpack_require__(212);\n\t\n\tfunction resolveCollision(state, collision) {\n\t  if (!collision) return state;\n\t  var projectile = collision.get('projectile');\n\t  var projectileIndex = collision.get('projectileIndex');\n\t  var ship = collision.get('ship');\n\t  var shipIndex = collision.get('shipIndex');\n\t  // console.log(`resolving collision: projectile: ${projectile}, ship: ${ship}`);\n\t  var stateWithoutProjectile = state.deleteIn(['projectiles', projectileIndex]);\n\t  var stateWithoutShip = stateWithoutProjectile.deleteIn(['ships', shipIndex]);\n\t  return stateWithoutShip;\n\t}\n\t\n\tfunction collisionResolver(state) {\n\t  var collisions = state.get('collisions');\n\t  if (collisions.size > 0) {\n\t    var stateWithResolvedCollisions = collisions.reduce(function (updatedState, collision) {\n\t      return resolveCollision(updatedState, collision);\n\t    }, state);\n\t    return stateWithResolvedCollisions.set('collisions', new _immutable.List());\n\t  }\n\t  return state;\n\t}\n\n/***/ },\n\n/***/ 221:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(222);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(224)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./main.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./main.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 222:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(223)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"body{background:#add8e6}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 223:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function () {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif (item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function (modules, mediaQuery) {\n\t\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n/***/ },\n\n/***/ 224:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n\n/***/ 225:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(191);\n\t\n\tvar _actions = __webpack_require__(211);\n\t\n\tvar _Ship = __webpack_require__(226);\n\t\n\tvar _Ship2 = _interopRequireDefault(_Ship);\n\t\n\tvar _Bullet = __webpack_require__(230);\n\t\n\tvar _Bullet2 = _interopRequireDefault(_Bullet);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LOOP_INTERVALS = 35;\n\t\n\tvar AppComponent = function (_PureComponent) {\n\t  _inherits(AppComponent, _PureComponent);\n\t\n\t  function AppComponent(props) {\n\t    _classCallCheck(this, AppComponent);\n\t\n\t    var _this = _possibleConstructorReturn(this, (AppComponent.__proto__ || Object.getPrototypeOf(AppComponent)).call(this, props));\n\t\n\t    _this._loopInterval = null;\n\t\n\t    _this.state = {\n\t      loopRequest: 0\n\t    };\n\t\n\t    _this.onButtonClick = _this._onButtonClick.bind(_this);\n\t    _this.onKeyDown = _this._onKeyDown.bind(_this);\n\t    _this.onKeyUp = _this._onKeyUp.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AppComponent, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'App' },\n\t        _react2.default.createElement(_Ship2.default, { data: this.props.gameLoop.get('ship') }),\n\t        this._renderShips(),\n\t        this._renderProjectiles()\n\t      );\n\t    }\n\t  }, {\n\t    key: '_renderShips',\n\t    value: function _renderShips() {\n\t      return this.props.gameLoop.get('ships').map(function (ship, index) {\n\t        return _react2.default.createElement(_Ship2.default, { key: index, data: ship });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_renderProjectiles',\n\t    value: function _renderProjectiles() {\n\t      return this.props.gameLoop.get('projectiles').map(function (projectile, index) {\n\t        return _react2.default.createElement(_Bullet2.default, { key: index, data: projectile });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_onButtonClick',\n\t    value: function _onButtonClick() {\n\t      this.props.onButtonClick();\n\t    }\n\t  }, {\n\t    key: '_onKeyDown',\n\t    value: function _onKeyDown(event) {\n\t      this.props.onKeyDown(event.key);\n\t    }\n\t  }, {\n\t    key: '_onKeyUp',\n\t    value: function _onKeyUp(event) {\n\t      this.props.onKeyUp(event.key);\n\t    }\n\t  }, {\n\t    key: '_onLoopTick',\n\t    value: function _onLoopTick() {\n\t      this.props.onLoopTick();\n\t      // this.setState({\n\t      //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\n\t      // });\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      window.addEventListener(\"keydown\", this.onKeyDown);\n\t      window.addEventListener(\"keyup\", this.onKeyUp);\n\t      // this.setState({\n\t      //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\n\t      // });\n\t      this._loopInterval = window.setInterval(this.props.onLoopTick, LOOP_INTERVALS);\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      window.removeEventListener(\"keydown\", this.onKeyDown);\n\t      window.removeEventListener(\"keyup\", this.onKeyUp);\n\t      window.clearInterval(this._loopInterval);\n\t      this._loopInterval = null;\n\t    }\n\t  }]);\n\t\n\t  return AppComponent;\n\t}(_react.PureComponent);\n\t\n\tAppComponent.propTypes = {\n\t  count: _react2.default.PropTypes.number,\n\t  gameLoop: _react2.default.PropTypes.object\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    count: state.base.count,\n\t    gameLoop: state.gameLoop\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    onButtonClick: function onButtonClick() {\n\t      dispatch((0, _actions.add)(1));\n\t    },\n\t    onKeyDown: function onKeyDown(key) {\n\t      dispatch((0, _actions.handleInputKeyDown)(key));\n\t    },\n\t    onKeyUp: function onKeyUp(key) {\n\t      dispatch((0, _actions.handleInputKeyUp)(key));\n\t    },\n\t    onLoopTick: function onLoopTick() {\n\t      dispatch((0, _actions.loopTick)());\n\t    }\n\t  };\n\t};\n\t\n\tvar App = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(AppComponent);\n\t\n\texports.default = App;\n\n/***/ },\n\n/***/ 226:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sprite = __webpack_require__(227);\n\t\n\tvar _sprite2 = _interopRequireDefault(_sprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Ship = function (_PureComponent) {\n\t  _inherits(Ship, _PureComponent);\n\t\n\t  function Ship(props) {\n\t    _classCallCheck(this, Ship);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Ship.__proto__ || Object.getPrototypeOf(Ship)).call(this, props));\n\t\n\t    var height = _this.props.data.get('height');\n\t    var width = _this.props.data.get('width');\n\t    _this.state = {\n\t      src: 'ship_' + height + 'x' + width + '.png',\n\t      height: height,\n\t      width: width\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Ship, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var data = this.props.data;\n\t      var rotation = data.get('rotation');\n\t      var positionX = data.get('positionX');\n\t      var positionY = data.get('positionY');\n\t      // console.log(`ship: ${rotation} @ (${positionX}, ${positionY})`)\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'outline',\n\t          style: {\n\t            transform: 'rotate(' + rotation + 'deg)',\n\t            height: this.state.height,\n\t            width: this.state.width,\n\t            top: positionY,\n\t            left: positionX,\n\t            position: 'fixed'\n\t          } },\n\t        _react2.default.createElement(_sprite2.default, {\n\t          src: this.state.src,\n\t          height: this.state.height,\n\t          width: this.state.width,\n\t          top: positionY,\n\t          left: positionX\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Ship;\n\t}(_react.PureComponent);\n\t\n\texports.default = Ship;\n\n/***/ },\n\n/***/ 227:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\t__webpack_require__(228);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Sprite = function (_PureComponent) {\n\t  _inherits(Sprite, _PureComponent);\n\t\n\t  function Sprite() {\n\t    _classCallCheck(this, Sprite);\n\t\n\t    return _possibleConstructorReturn(this, (Sprite.__proto__ || Object.getPrototypeOf(Sprite)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Sprite, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'sprite',\n\t          height: this.props.height,\n\t          width: this.props.width\n\t        },\n\t        _react2.default.createElement('img', { src: this.props.PATHS.images + '/' + this.props.src,\n\t          height: this.props.height,\n\t          width: this.props.width\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Sprite;\n\t}(_react.PureComponent);\n\t\n\tSprite.propTypes = {\n\t  src: _react2.default.PropTypes.string,\n\t  PATHS: _react2.default.PropTypes.object,\n\t  height: _react2.default.PropTypes.number,\n\t  width: _react2.default.PropTypes.number,\n\t  top: _react2.default.PropTypes.number,\n\t  left: _react2.default.PropTypes.number\n\t};\n\t\n\tSprite.defaultProps = {\n\t  src: '',\n\t  PATHS: {\n\t    images: '/assets/images'\n\t  },\n\t  height: 40,\n\t  width: 40,\n\t  top: 0,\n\t  left: 0\n\t};\n\t\n\texports.default = Sprite;\n\n/***/ },\n\n/***/ 228:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(229);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(224)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./components.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./components.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 229:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(223)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".outline{border:1px solid #000;border-radius:20px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 230:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sprite = __webpack_require__(227);\n\t\n\tvar _sprite2 = _interopRequireDefault(_sprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Bullet = function (_PureComponent) {\n\t  _inherits(Bullet, _PureComponent);\n\t\n\t  function Bullet() {\n\t    _classCallCheck(this, Bullet);\n\t\n\t    return _possibleConstructorReturn(this, (Bullet.__proto__ || Object.getPrototypeOf(Bullet)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Bullet, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var data = this.props.data;\n\t\n\t      var height = data.get('height');\n\t      var width = data.get('width');\n\t      var src = 'bullet_' + height + 'x' + width + '.png';\n\t      var rotation = data.get('rotation');\n\t      var positionX = data.get('positionX');\n\t      var positionY = data.get('positionY');\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { style: {\n\t            position: 'fixed',\n\t            transform: 'rotate(' + rotation + 'deg)',\n\t            height: height,\n\t            width: width,\n\t            top: positionY,\n\t            left: positionX\n\t          } },\n\t        _react2.default.createElement(_sprite2.default, {\n\t          src: src,\n\t          height: height,\n\t          width: width,\n\t          top: positionY,\n\t          left: positionX\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Bullet;\n\t}(_react.PureComponent);\n\t\n\texports.default = Bullet;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// app.a49de8a95818e2f68576.js","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore} from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport spaceApp from './reducers';\r\nimport {List} from 'immutable';\r\n\r\nimport './main.css';\r\n\r\nimport App from './app';\r\n\r\nconst props = {\r\n};\r\n\r\nlet store = createStore(spaceApp);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App {...props}/>\r\n  </Provider>,\r\n  document.getElementById('root'));\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/index.js","import {combineReducers} from 'redux';\r\nimport {ADD} from '../api/actions';\r\nimport gameLoop from './gameLoop';\r\n\r\nconst baseInitialState = {\r\n  count: 0\r\n};\r\n\r\nfunction base(state = baseInitialState, action) {\r\n  switch (action.type) {\r\n    case ADD:\r\n      return Object.assign({}, state, {\r\n        count: state.count + 1\r\n      });\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst spaceApp = combineReducers({\r\n  base,\r\n  gameLoop\r\n});\r\n\r\nexport default spaceApp\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/index.js","import {Set} from 'immutable';\r\n\r\nexport const ADD = 'ADD';\r\nexport const UNHANDLED = 'UNHANDLED';\r\nexport const KEY_DOWN = 'KEY_DOWN';\r\nexport const MOVE_KEY_DOWN = 'MOVE_KEY_DOWN';\r\nexport const KEY_UP = 'KEY_UP';\r\nexport const MOVE_KEY_UP = 'MOVE_KEY_UP';\r\nexport const TICK = 'TICK';\r\n\r\nexport function add(num) {\r\n  return {type: ADD, num}\r\n}\r\n\r\nconst MOVEMENT_KEYS = new Set(['w', 'a', 's', 'd']);\r\n\r\nexport function handleInputKeyDown(keyDown) {\r\n  let actionType;\r\n  if (MOVEMENT_KEYS.has(keyDown)) {\r\n    actionType = MOVE_KEY_DOWN\r\n  } else {\r\n    actionType = KEY_DOWN\r\n  }\r\n  return {\r\n    type: actionType,\r\n    key: keyDown\r\n  }\r\n}\r\n\r\nexport function handleInputKeyUp(keyUp) {\r\n  let actionType;\r\n  if (MOVEMENT_KEYS.has(keyUp)) {\r\n    actionType = MOVE_KEY_UP\r\n  } else {\r\n    actionType = UNHANDLED\r\n  }\r\n  return {\r\n    type: actionType,\r\n    key: keyUp\r\n  }\r\n}\r\n\r\nexport function loopTick() {\r\n  return {\r\n    type: TICK\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/api/actions.js","import {Map, List} from 'immutable';\r\n\r\nimport {MOVE_KEY_DOWN, MOVE_KEY_UP, KEY_DOWN, KEY_UP, TICK} from '../api/actions';\r\n\r\nimport {onTickProjectiles} from './onTickProjectiles';\r\nimport {onTickShip} from './onTickShip';\r\nimport {onTickShips} from './onTickShips';\r\nimport {fireWeapon} from './fireWeapon';\r\nimport {collisionDetector} from './collisionDetector';\r\nimport {collisionResolver} from './collisionResolver';\r\n\r\nconst initialState = new Map({\r\n  ship: new Map({\r\n    height: 40,\r\n    width: 40,\r\n    rotation: 0,\r\n    positionX: 0,\r\n    positionY: 0\r\n  }),\r\n  ships: new List([new Map({\r\n    height: 40,\r\n    width: 40,\r\n    rotation: 90,\r\n    positionX: 200,\r\n    positionY: 500\r\n  }), new Map({\r\n    height: 40,\r\n    width: 40,\r\n    rotation: 0,\r\n    positionX: 600,\r\n    positionY: 200\r\n  }), new Map({\r\n    height: 40,\r\n    width: 40,\r\n    rotation: 135,\r\n    positionX: 300,\r\n    positionY: 400\r\n  })]),\r\n  keysDown: new Map(),\r\n  projectiles: new List(),\r\n  collisions: new List()\r\n});\r\n\r\nfunction onTick(state) {\r\n  const updatedStateWithPlayerShipMovement = onTickShip(state);\r\n  const updatedStateWithShipsMovement = onTickShips(updatedStateWithPlayerShipMovement);\r\n  const updatedStateWithProjectileMovement = onTickProjectiles(updatedStateWithShipsMovement);\r\n  const updatedStateWithCollisions = collisionDetector(updatedStateWithProjectileMovement);\r\n  const updatedStateWithCollisionsResolved = collisionResolver(updatedStateWithCollisions);\r\n  return updatedStateWithCollisionsResolved;\r\n}\r\n\r\nexport default function gameLoop(state = initialState, action) {\r\n  switch (action.type) {\r\n    case MOVE_KEY_DOWN:\r\n      return state.setIn(['keysDown', action.key], true);\r\n    case MOVE_KEY_UP:\r\n      return state.setIn(['keysDown', action.key], false);\r\n    case KEY_DOWN:\r\n      if (action.key === ' ') return fireWeapon(state);\r\n      break;\r\n    case TICK:\r\n      return onTick(state);\r\n  }\r\n  return state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/gameLoop.js","import {calculatePositionChange} from './movement';\r\n\r\nfunction filterVisibleProjectiles(projectile, index, projectiles) {\r\n  const positionX = projectile.get('positionX');\r\n  const positionY = projectile.get('positionY');\r\n  // console.log(`filtering: (${positionX}, ${positionY})`);\r\n  if (positionX > 1000 || positionX < -50 || positionY > 1000 || positionY < 0) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function onTickProjectiles(state) {\r\n  const projectiles = state.get('projectiles');\r\n  const projectilesAfterPruningOffscreen = projectiles.filter(filterVisibleProjectiles);\r\n  const stateWithVisibleProjectilesOnly = state.set('projectiles', projectilesAfterPruningOffscreen);\r\n\r\n  const stateWithProjectilePositionChanges = projectilesAfterPruningOffscreen\r\n    .reduce((updatedState, projectile, index) => {\r\n      const {positionX, positionY} = calculatePositionChange(\r\n        projectile.get('speed'),\r\n        projectile.get('rotation'),\r\n        projectile.get('positionX'),\r\n        projectile.get('positionY'));\r\n\r\n      let updatedProjectile = projectile.set('positionX', positionX).set('positionY', positionY);\r\n      return updatedState.setIn(['projectiles', index], updatedProjectile)\r\n    }, stateWithVisibleProjectilesOnly);\r\n\r\n  return stateWithProjectilePositionChanges;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickProjectiles.js","export function calculatePositionChange(distance, rotation, positionX, positionY) {\r\n  console.log(`${distance}`);\r\n  const rotationRadians = rotation === 0 ? 0 : Math.PI * rotation / 180;\r\n  const distanceY = distance * Math.cos(rotationRadians) * -1;\r\n  const distanceX = distance * Math.sin(rotationRadians);\r\n  return {\r\n    positionX: positionX + distanceX,\r\n    positionY: positionY + distanceY\r\n  }\r\n}\r\n\r\nexport function calculateShipPosition(ship, speed) {\r\n  // dy = d * cos(rotation)\r\n  // dx = d * sin(rotation)\r\n  // could the compute cos and sin of angles up front in a map:\r\n  // rotation -> {cos(rotation), sin(rotation)}\r\n  const {positionX, positionY} = calculatePositionChange(\r\n    speed,\r\n    ship.get('rotation'),\r\n    ship.get('positionX'),\r\n    ship.get('positionY'));\r\n  let updatedState = ship.set('positionX', positionX);\r\n  updatedState = updatedState.set('positionY', positionY);\r\n  return updatedState;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/movement.js","import {Map, List} from 'immutable';\r\n\r\nimport {calculateShipPosition} from './movement';\r\n\r\nexport const TURN_SHIP = 'TURN_SHIP';\r\nexport const MOVE_SHIP_BW = 'MOVE_SHIP_BW';\r\nexport const MOVE_SHIP_FW = 'MOVE_SHIP_FW';\r\nexport const FIRE_WEAPON = 'FIRE_WEAPON';\r\n\r\nfunction buildKeysDownActions(keysDown) {\r\n  const defaultAmount = 7;\r\n  const activeActions = [];\r\n  if (keysDown.has('w')) {\r\n    activeActions.push({\r\n      type: MOVE_SHIP_FW,\r\n      speed: 7\r\n    });\r\n  }\r\n  if (keysDown.has('s')) {\r\n    activeActions.push({\r\n      type: MOVE_SHIP_BW,\r\n      speed: -4\r\n    });\r\n  }\r\n  if (keysDown.has('a')) {\r\n    activeActions.push({\r\n      type: TURN_SHIP,\r\n      amount: -defaultAmount\r\n    });\r\n  }\r\n  if (keysDown.has('d')) {\r\n    activeActions.push({\r\n      type: TURN_SHIP,\r\n      amount: defaultAmount\r\n    });\r\n  }\r\n  return new List(activeActions);\r\n}\r\n\r\nexport function onTickShip(state) {\r\n  const keysDown = state.get('keysDown');\r\n  const activeKeysDown = keysDown.filter((value, key) => value);\r\n\r\n  // update ship state\r\n  const activeActions = buildKeysDownActions(activeKeysDown);\r\n  return activeActions.reduce((updatedState, action) => {\r\n    switch (action.type) {\r\n      case TURN_SHIP:\r\n        return updatedState.setIn(['ship', 'rotation'],\r\n          updatedState.getIn(['ship', 'rotation']) + action.amount);\r\n      case MOVE_SHIP_FW:\r\n      case MOVE_SHIP_BW:\r\n        return updatedState.set('ship',\r\n          calculateShipPosition(updatedState.get('ship'), action.speed));\r\n    }\r\n  }, state);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickShip.js","import {Map, List} from 'immutable';\r\n\r\nimport {calculatePositionChange} from './movement';\r\n\r\nfunction calculateNewPosition(state, speed) {\r\n  // dy = d * cos(rotation)\r\n  // dx = d * sin(rotation)\r\n  // could the compute cos and sin of angles up front in a map:\r\n  // rotation -> {cos(rotation), sin(rotation)}\r\n  const {positionX, positionY} = calculatePositionChange(\r\n    speed,\r\n    state.get('rotation'),\r\n    state.get('positionX'),\r\n    state.get('positionY'));\r\n  let updatedState = state.set('positionX', positionX);\r\n  updatedState = updatedState.set('positionY', positionY);\r\n  return updatedState;\r\n}\r\n\r\nexport function onTickShips(state) {\r\n  return state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/onTickShips.js","import {Map, List} from 'immutable';\r\n\r\nexport function fireWeapon(state) {\r\n  const ship = state.get('ship');\r\n  const rotation = ship.get('rotation'); // comes out same rotation as ship\r\n  const positionX = ship.get('positionX');\r\n  const positionY = ship.get('positionY');\r\n\r\n  const newProjectileProps = new Map({\r\n    rotation, positionX, positionY,\r\n    height: 40,\r\n    width: 40,\r\n    speed: 2\r\n  });\r\n\r\n  const currentProjectiles = state.get('projectiles');\r\n  const updatedProjectiles = currentProjectiles.push(newProjectileProps);\r\n  return state.set('projectiles', updatedProjectiles);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/fireWeapon.js","import {Map, List} from 'immutable';\r\n\r\n// TODO: this is not accurate, need to figure out a better way of calculating this stuff\r\n// http://stackoverflow.com/questions/12066870/how-to-check-if-an-element-is-overlapping-other-elements\r\nfunction findOverlapAsRectangles(obj1, obj2) {\r\n  const obj1Height = obj1.get('height');\r\n  const obj1Width = obj1.get('width');\r\n  const obj1X = obj1.get('positionX');\r\n  const obj1Y = obj1.get('positionY');\r\n  const obj2Height = obj2.get('height');\r\n  const obj2Width = obj2.get('width');\r\n  const obj2X = obj2.get('positionX');\r\n  const obj2Y = obj2.get('positionY');\r\n  const obj1Left = obj1X;\r\n  const obj1Right = obj1X + obj1Width;\r\n  const obj2Left = obj2X;\r\n  const obj2Right = obj2X + obj2Width;\r\n  const obj1Top = obj1Y;\r\n  const obj1Bottom = obj1Y + obj1Height;\r\n  const obj2Top = obj2Y;\r\n  const obj2Bottom = obj2Y + obj2Height;\r\n\r\n  const doesNotOverlap = (\r\n  obj2Left > obj1Right\r\n  || obj2Top > obj1Bottom\r\n  || obj2Right < obj1Left\r\n  || obj2Bottom < obj1Top);\r\n\r\n  !doesNotOverlap && console.log(`collision found, at least one is true: \r\n    ${obj2Left} <= ${obj1Right},\r\n    ${obj2Top} <= ${obj1Bottom},\r\n    ${obj2Right} >= ${obj1Left},\r\n    ${obj2Bottom} >= ${obj1Top}`);\r\n  return !doesNotOverlap;\r\n}\r\n\r\nfunction doCirclesOverlap(circle1, circle2) {\r\n  // find the distance between the centers and compare to the sum of the radii\r\n  const dx = circle1.center.top - circle2.center.top;\r\n  const dy = circle1.center.left - circle2.center.left;\r\n  // taking square roots is more expensive than squaring the sum of the radii\r\n  const dSqr = (dx * dx) + (dy * dy);\r\n  const radiusSumSqr = (circle1.radius + circle2.radius) * (circle1.radius + circle2.radius);\r\n  if (dSqr - radiusSumSqr < 500) {\r\n    // console.log(`difference between ${circle1.center.top} and ${circle2.center.top}`);\r\n    // console.log(`difference between ${circle1.center.left} and ${circle2.center.left}`);\r\n    // console.log(`collision close: ${dSqr} vs ${radiusSumSqr}`)\r\n  }\r\n  return dSqr <= radiusSumSqr;\r\n}\r\n\r\nfunction findOverlap(obj1, obj2) {\r\n  const obj1Height = obj1.get('height');\r\n  const obj1Width = obj1.get('width');\r\n  const obj1X = obj1.get('positionX');\r\n  const obj1Y = obj1.get('positionY');\r\n  const obj2Height = obj2.get('height');\r\n  const obj2Width = obj2.get('width');\r\n  const obj2X = obj2.get('positionX');\r\n  const obj2Y = obj2.get('positionY');\r\n  // use overlapping circles to determine if there's a collision\r\n  // create circles for each obj\r\n  const obj1Radius = obj1Width >= obj1Height ? obj1Width / 2 : obj1Height / 2;\r\n  const circle1 = {\r\n    center: {top: obj1Y + obj1Radius, left: obj1X + obj1Radius},\r\n    radius: obj1Radius\r\n  };\r\n  const obj2Radius = obj2Width >= obj2Height ? obj2Width / 2 : obj2Height / 2;\r\n  const circle2 = {\r\n    center: {top: obj2Y + obj2Radius, left: obj2X + obj2Radius},\r\n    radius: obj2Radius\r\n  };\r\n  // find if the circles overlap\r\n  // TODO: find direction/side that the collision happened?\r\n  return doCirclesOverlap(circle1, circle2);\r\n}\r\n\r\nexport function collisionDetector(state) {\r\n  //\r\n  const projectiles = state.get('projectiles');\r\n  const ships = state.get('ships');\r\n  const updatedStateWithCollisions = projectiles.reduce((updatedState, projectile, projectileIndex) => {\r\n    const collisionsFound = ships.map((ship, shipIndex) => {\r\n      const overlapDetected = findOverlap(projectile, ship);\r\n      if (overlapDetected) {\r\n        console.log(`collision detected`);\r\n        // console.log(`collision detected: projectile: ${projectile}, ship: ${ship}`);\r\n        // return a collision record to be resolved\r\n        return new Map({\r\n          projectile, projectileIndex, ship, shipIndex\r\n        });\r\n      }\r\n    });\r\n    return updatedState.set('collisions', collisionsFound);\r\n  }, state);\r\n  return updatedStateWithCollisions;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/collisionDetector.js","import {Map, List} from 'immutable';\r\n\r\nfunction resolveCollision(state, collision) {\r\n  if (!collision) return state;\r\n  const projectile = collision.get('projectile');\r\n  const projectileIndex = collision.get('projectileIndex');\r\n  const ship = collision.get('ship');\r\n  const shipIndex = collision.get('shipIndex');\r\n  // console.log(`resolving collision: projectile: ${projectile}, ship: ${ship}`);\r\n  const stateWithoutProjectile = state.deleteIn(['projectiles', projectileIndex]);\r\n  const stateWithoutShip = stateWithoutProjectile.deleteIn(['ships', shipIndex]);\r\n  return stateWithoutShip;\r\n}\r\n\r\nexport function collisionResolver(state) {\r\n  const collisions = state.get('collisions');\r\n  if (collisions.size > 0) {\r\n    const stateWithResolvedCollisions = collisions.reduce((updatedState, collision) => {\r\n      return resolveCollision(updatedState, collision);\r\n    }, state);\r\n    return stateWithResolvedCollisions.set('collisions', new List());\r\n  }\r\n  return state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/reducers/collisionResolver.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./main.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./main.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./main.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/main.css\n// module id = 221\n// module chunks = 0","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{background:#add8e6}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./app/main.css\n// module id = 222\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/~/css-loader/lib/css-base.js","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 224\n// module chunks = 0","import React, {PureComponent} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {add, handleInputKeyDown, handleInputKeyUp, loopTick} from './api/actions';\r\n\r\nimport Ship from './components/Ship';\r\nimport Bullet from './components/Bullet';\r\n\r\nconst LOOP_INTERVALS = 35;\r\n\r\nclass AppComponent extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this._loopInterval = null;\r\n\r\n    this.state = {\r\n      loopRequest: 0\r\n    };\r\n\r\n    this.onButtonClick = this._onButtonClick.bind(this);\r\n    this.onKeyDown = this._onKeyDown.bind(this);\r\n    this.onKeyUp = this._onKeyUp.bind(this);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Ship data={this.props.gameLoop.get('ship')}/>\r\n        {this._renderShips()}\r\n        {this._renderProjectiles()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  _renderShips() {\r\n    return this.props.gameLoop.get('ships').map((ship, index) => {\r\n      return <Ship key={index} data={ship} />\r\n    });\r\n\r\n  }\r\n\r\n  _renderProjectiles() {\r\n    return this.props.gameLoop.get('projectiles').map((projectile, index) => {\r\n      return <Bullet key={index} data={projectile} />\r\n    });\r\n  }\r\n\r\n  _onButtonClick() {\r\n    this.props.onButtonClick()\r\n  }\r\n\r\n  _onKeyDown(event) {\r\n    this.props.onKeyDown(event.key);\r\n  }\r\n\r\n  _onKeyUp(event) {\r\n    this.props.onKeyUp(event.key);\r\n  }\r\n\r\n  _onLoopTick() {\r\n    this.props.onLoopTick();\r\n    // this.setState({\r\n    //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\r\n    // });\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n    window.addEventListener(\"keyup\", this.onKeyUp);\r\n    // this.setState({\r\n    //   loopRequest: requestAnimationFrame(this.props.onLoopTick)\r\n    // });\r\n    this._loopInterval = window.setInterval(this.props.onLoopTick, LOOP_INTERVALS);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n    window.removeEventListener(\"keyup\", this.onKeyUp);\r\n    window.clearInterval(this._loopInterval);\r\n    this._loopInterval = null;\r\n  }\r\n}\r\n\r\nAppComponent.propTypes = {\r\n  count: React.PropTypes.number,\r\n  gameLoop: React.PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    count: state.base.count,\r\n    gameLoop: state.gameLoop\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onButtonClick: () => {\r\n      dispatch(add(1))\r\n    },\r\n    onKeyDown: (key) => {\r\n      dispatch(handleInputKeyDown(key));\r\n    },\r\n    onKeyUp: (key) => {\r\n      dispatch(handleInputKeyUp(key));\r\n    },\r\n    onLoopTick: () => {\r\n      dispatch(loopTick());\r\n    }\r\n  }\r\n};\r\n\r\nconst App = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AppComponent);\r\n\r\nexport default App;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/app.js","import React, {PureComponent} from 'react';\r\n\r\nimport Sprite from './sprite';\r\n\r\nclass Ship extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const height = this.props.data.get('height');\r\n    const width = this.props.data.get('width');\r\n    this.state = {\r\n      src: `ship_${height}x${width}.png`,\r\n      height,\r\n      width\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const data = this.props.data;\r\n    const rotation = data.get('rotation');\r\n    const positionX = data.get('positionX');\r\n    const positionY = data.get('positionY');\r\n    // console.log(`ship: ${rotation} @ (${positionX}, ${positionY})`)\r\n    return (\r\n      <div className=\"outline\"\r\n           style={{\r\n             transform: `rotate(${rotation}deg)`,\r\n             height: this.state.height,\r\n             width: this.state.width,\r\n             top: positionY,\r\n             left: positionX,\r\n             position: 'fixed'\r\n           }}>\r\n        <Sprite\r\n          src={this.state.src}\r\n          height={this.state.height}\r\n          width={this.state.width}\r\n          top={positionY}\r\n          left={positionX}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Ship;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/Ship.js","import React, {PureComponent} from 'react';\r\n\r\nimport './components.css';\r\n\r\nclass Sprite extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"sprite\"\r\n           height={this.props.height}\r\n           width={this.props.width}\r\n      >\r\n        <img src={`${this.props.PATHS.images}/${this.props.src}`}\r\n             height={this.props.height}\r\n             width={this.props.width}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSprite.propTypes = {\r\n  src: React.PropTypes.string,\r\n  PATHS: React.PropTypes.object,\r\n  height: React.PropTypes.number,\r\n  width: React.PropTypes.number,\r\n  top: React.PropTypes.number,\r\n  left: React.PropTypes.number\r\n};\r\n\r\nSprite.defaultProps = {\r\n  src: '',\r\n  PATHS: {\r\n    images: '/assets/images'\r\n  },\r\n  height: 40,\r\n  width: 40,\r\n  top: 0,\r\n  left: 0\r\n};\r\n\r\nexport default Sprite;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/sprite.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./components.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./components.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./components.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/components.css\n// module id = 228\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".outline{border:1px solid #000;border-radius:20px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./app/components/components.css\n// module id = 229\n// module chunks = 0","import React, {PureComponent} from 'react';\r\n\r\nimport Sprite from './sprite';\r\n\r\nclass Bullet extends PureComponent {\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n    const height = data.get('height');\r\n    const width = data.get('width');\r\n    const src = `bullet_${height}x${width}.png`;\r\n    const rotation = data.get('rotation');\r\n    const positionX = data.get('positionX');\r\n    const positionY = data.get('positionY');\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        transform: `rotate(${rotation}deg)`,\r\n        height: height,\r\n        width: width,\r\n        top: positionY,\r\n        left: positionX\r\n      }}>\r\n        <Sprite\r\n          src={src}\r\n          height={height}\r\n          width={width}\r\n          top={positionY}\r\n          left={positionX}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Bullet;\n\n\n// WEBPACK FOOTER //\n// ./D:/dev/_ws/iron-space/app/components/Bullet.js"],"sourceRoot":""}